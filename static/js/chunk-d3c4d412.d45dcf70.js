(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3c4d412"],{2934:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return m})),n.d(t,"c",(function(){return p}));var r=n("b775");function a(e){return Object(r["a"])({url:"api/Sys/GetSelRoleList",method:"get",params:e})}function i(e){return Object(r["a"])({url:"api/Global/GetRegionList",method:"get",params:e})}function o(e){return Object(r["a"])({url:"api/Station/GetSelSites",method:"get",params:e})}function c(e){return Object(r["a"])({url:"api/Sys/EnableProfessionList",method:"get",params:e})}function l(e){return Object(r["a"])({url:"api/Examination/LoadQuestionBankOptions",method:"get",params:e})}function s(e){return Object(r["a"])({url:"api/Sys/GetEnableEQLanguages",method:"get",params:e})}function u(e){return Object(r["a"])({url:"api/Station/EnableExamRoomLst",method:"get",params:e})}function h(e){return Object(r["a"])({url:"images/Upload/TempPic",method:"post",data:e,multiple:!0})}function d(e){return Object(r["a"])({url:"images/Upload/TempFile",method:"post",data:e,multiple:!0})}function m(e){return Object(r["a"])({url:"api/images/Upload/NewPic",method:"post",data:e,multiple:!0})}function p(e){return Object(r["a"])({url:"api/Station/EnableExaminerInfos",method:"get",params:e})}},4654:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"k",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return h})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"i",(function(){return f}));var r=n("b775");function a(e){return Object(r["a"])({url:"api/Score/getQualifiedEnrollPageList",method:"get",params:e})}function i(e){return Object(r["a"])({url:"api/Score/GetAllScoreDetail",method:"get",params:e})}function o(e){return Object(r["a"])({url:"api/Score/GetScoreSearchList",method:"get",params:e})}function c(e){return Object(r["a"])({url:"api/Score/PublishScoreResult",method:"post",data:e})}function l(e){return Object(r["a"])({url:"api/Score/GetScoreDetail",method:"get",params:e})}function s(e){return Object(r["a"])({url:"api/Score/CheckViolationRecord",method:"get",params:e})}function u(e){return Object(r["a"])({url:"api/Score/GetViolationSetting",method:"get",params:e})}function h(e){return Object(r["a"])({url:"api/Score/PostViolationRecord",method:"post",data:e})}function d(e){return Object(r["a"])({url:"api/Score/CancelViolationRecord",method:"post",data:e})}function m(e){return Object(r["a"])({url:"api/Score/GetViolationCheckList",method:"get",params:e})}function p(e){return Object(r["a"])({url:"api/Score/RefuseViolationRecord",method:"post",data:e})}function f(e){return Object(r["a"])({url:"api/Score/PassViolationRecord",method:"post",data:e})}},8464:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("search-panel",{model:{value:e.searchPanelActive,callback:function(t){e.searchPanelActive=t},expression:"searchPanelActive"}},[n("bar",{attrs:{slot:"title"},slot:"title"},[n("bar-space"),n("bar-cell",[n("el-button",{attrs:{icon:"el-icon-refresh",size:e.tableSize},on:{click:e.doRefresh}},[e._v("刷新")])],1),n("bar-cell",[n("el-button",{attrs:{type:"danger",size:e.tableSize},on:{click:e.doQuery}},[e._v("自定义查询字段")])],1)],1),n("el-form",{ref:"searchForm",attrs:{"label-position":"top",inline:"",size:e.tableSize},model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[n("el-form-item",{attrs:{label:"日期范围"}},[n("date-range-picker",{model:{value:e.searchForm.times,callback:function(t){e.$set(e.searchForm,"times",t)},expression:"searchForm.times"}})],1),"Department"===e.roles||"Guidance"===e.roles?n("area-select",{attrs:{"area-label":"省份","show-city":!1,"province-code":e.searchForm.ProvinceID},on:{areaSelectChange:e.searchFormAreaChange}}):e._e(),e.showSearchColumnSite?n("el-form-item",{attrs:{label:"考试地点",prop:"SiteID"}},[n("el-select",{attrs:{disabled:null===e.searchForm.ProvinceID,placeholder:e.searchForm.ProvinceID?"请选择":"请先选择省份"},model:{value:e.searchForm.SiteID,callback:function(t){e.$set(e.searchForm,"SiteID",t)},expression:"searchForm.SiteID"}},e._l(e.stationOptions,(function(e){return n("el-option",{key:e.SiteID,attrs:{label:e.SiteName,value:e.SiteID}})})),1)],1):e._e(),n("profession-skill-select",{attrs:{label:"申请鉴定工种/等级/方向","first-level":e.searchForm.WorkCID,"second-level":e.searchForm.GradeCID,"third-level":e.searchForm.DirectionID,"show-third-level":!0},on:{selectChange:e.selectChange}}),n("el-form-item",{attrs:{label:"操作"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchFormSubmit}},[e._v("查询")]),n("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.searchFormReset}},[e._v("清空")])],1)],1)],1),n("table-body",{ref:"mkTable",attrs:{loading:e.tableLoading,columns:e.columns,"table-data":e.tableData,options:e.tableOptions,"selection-row":e.selectionRow,pagination:e.pagination,"show-selection-delete":!1},on:{"sort-change":e.handleSortChange,"selection-change":e.handleSelectionChange,"pagination-current-change":e.paginationCurrenChange,"pagination-size-change":e.paginationSizeChange},scopedSlots:e._u([{key:"paginationButtons",fn:function(){return[n("el-button",{attrs:{icon:"el-icon-printer",type:"danger",size:e.tableSize,disabled:e.multiSelectDisabled,plain:""},on:{click:e.batchPrint}},[e._v("打印成绩通知单")])]},proxy:!0}])},[e.showColumnLastSiteName?n("el-table-column",{attrs:{slot:"LastSiteName"},slot:"LastSiteName",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.LastSiteName)+" ")]}}],null,!1,3089865913)}):e._e(),n("el-table-column",{attrs:{slot:"operate",label:"操作","min-width":"60",align:"center",fixed:"right"},slot:"operate",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("el-link",{directives:[{name:"permission",rawName:"v-permission",value:"detail",expression:"'detail'"}],attrs:{type:"primary"},on:{click:function(t){return e.doLook(r)}}},[e._v("查看")])]}}])})],1)],1)},a=[],i=(n("caad"),n("d3b7"),n("96cf"),n("1da1")),o=n("5530"),c=n("2f62"),l=n("ed08"),s=n("2934"),u=n("4654"),h={name:"QualifiedPersonIndex",components:{AreaSelect:function(){return n.e("chunk-2d209560").then(n.bind(null,"a92d"))},Bar:function(){return n.e("chunk-2d0bac10").then(n.bind(null,"390d"))},BarCell:function(){return n.e("chunk-2d221e17").then(n.bind(null,"cbdf"))},BarSpace:function(){return n.e("chunk-2d2218de").then(n.bind(null,"cb9b"))},DateRangePicker:function(){return n.e("chunk-2d210a9a").then(n.bind(null,"b99f"))},SearchPanel:function(){return n.e("chunk-c808d2de").then(n.bind(null,"978e"))},TableBody:function(){return n.e("chunk-79d593e5").then(n.bind(null,"2c21"))},ProfessionSkillSelect:function(){return n.e("chunk-2d0e1b55").then(n.bind(null,"7c1d"))}},data:function(){return{searchPanelActive:!0,searchForm:{times:[],ProvinceID:null,SiteID:null,WorkCID:null,GradeCID:null,DirectionID:null},sortTheoryScore:null,sortSkillScore:null,sortAppraisalDate:null,tableLoading:!1,selectionRow:{align:"center"},columns:[{title:"姓名",key:"Name",align:"center",minWidth:100},{title:"性别",key:"Sex",align:"center",formatter:function(e,t,n,r){var a="";switch(e.Sex){case 0:a="女";break;case 1:a="男";break;case 2:a="保密";break}return a}},{title:"证件号码",key:"IDCardNum",headerAlign:"center",minWidth:160},{title:"职业工种",key:"WorkCName",align:"center",minWidth:140},{title:"技能等级",key:"GradeCName",align:"center",minWidth:100},{title:"职业方向",key:"DirectionName",align:"center",minWidth:140},{title:"理论成绩",key:"TheoryScore",align:"center",sortable:"custom",minWidth:90},{title:"技能成绩",key:"SkillScore",align:"center",sortable:"custom",minWidth:90},{title:"鉴定时间",key:"LastAppraisalDate",align:"center",minWidth:140,sortable:"custom",formatter:function(e,t,n,r){return Object(l["e"])(e.LastAppraisalDate,"{y}-{m}-{d}")}},{title:"鉴定地点",key:"LastSiteName",slot:"LastSiteName"},{title:"培训机构",key:"OrganizationName",align:"center",minWidth:100}],tableData:[],tableOptions:{border:!0,headerCellClassName:"table-header-bg"},pagination:{currentPage:1,pageSize:20,total:0},multipleSelection:[],stationOptions:[]}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])({tableSize:function(e){return e.settings.tableSize}})),{},{multiSelectDisabled:function(){return!this.tableData.length},showColumnLastSiteName:function(){var e=["Team","Station"];return e.includes(this.roles)},showSearchColumnSite:function(){var e=["Team","Station"];return e.includes(this.roles)}}),watch:{"searchForm.ProvinceID":{handler:function(e){null!==e&&(this.placeholder="请选择",this._getSelSites(e))},immediate:!0}},created:function(){var e=this.$store.getters.mainRoles;this.roles=e,"Team"!==e&&"Site"!==e||(this.searchForm.ProvinceID=0);var t=new Date,n=t.setMonth(t.getMonth()-3);this.searchForm.times=[Object(l["e"])(n,"{y}-{m}-{d}"),Object(l["e"])(new Date,"{y}-{m}-{d}")],this.doRefresh()},methods:{doRefresh:function(){var e=this;this.roles=this.$store.getters.mainRoles;var t=this.searchForm,n=t.times,r=t.ProvinceID,a=t.SiteID,i=t.WorkCID,o=t.GradeCID,c=t.DirectionID,l=this.pagination,s=l.currentPage,h=l.pageSize,d=this.sortTheoryScore,m=this.sortSkillScore,p=this.sortAppraisalDate,f={dateStart:n.length?n[0]:"",dateEnd:n.length?n[1]:"",siteID:a||0,workCID:i||0,gradeCID:o||0,directionID:c||0,provinceID:r||0,sortTheoryScore:d,sortSkillScore:m,sortAppraisalDate:p,intPageIndex:s,intPageSize:h};this.tableLoading=!0,Object(u["d"])(f).then((function(t){e.tableLoading=!1,t.success&&(e.tableData=t.data,e.pagination.total=t.dataCount)})).catch((function(t){e.tableLoading=!1}))},doQuery:function(){},searchFormAreaChange:function(e){this.searchForm.ProvinceID=e.provinceCode},_getSelSites:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(s["h"])({ProvinceID:e});case 2:r=n.sent,r.success&&(t.stationOptions=r.response);case 4:case"end":return n.stop()}}),n)})))()},selectChange:function(e){this.searchForm=Object(o["a"])(Object(o["a"])({},this.searchForm),{},{WorkCID:e.firstLevel,GradeCID:e.secondLevel,DirectionID:e.thirdLevel})},searchFormSubmit:function(){this.doRefresh()},searchFormReset:function(){this.searchForm={times:[],ProvinceID:null,SiteID:null,WorkCID:null,GradeCID:null,DirectionID:null},this.doRefresh()},doLook:function(e){this.$router.push({name:"QualifiedPersonDetail",params:{id:e.EIID}})},handleSortChange:function(e){var t=e.prop,n=e.order,r=null;switch("ascending"===n&&(r=0),"descending"===n&&(r=1),t){case"TheoryScore":this.sortTheoryScore=r;break;case"SkillScore":this.sortSkillScore=r;break;case"LastAppraisalDate":this.sortAppraisalDate=r;break}this.doRefresh()},handleSelectionChange:function(e){this.multipleSelection=e},batchPrint:function(){null!=this.multipleSelection&&0!==this.multipleSelection.length?this.$confirm("确定要批量打印这"+this.multipleSelection.length+"条数据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}):this.$message({message:"您还未选择数据",type:"warning"})},paginationCurrenChange:function(e){this.pagination.currentPage=e,this.doRefresh()},paginationSizeChange:function(e){this.pagination.pageSize=e,this.doRefresh()}}},d=h,m=n("2877"),p=Object(m["a"])(d,r,a,!1,null,null,null);t["default"]=p.exports}}]);