(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6b0274a"],{"40a4":function(e,t,r){"use strict";r.d(t,"n",(function(){return n})),r.d(t,"q",(function(){return o})),r.d(t,"t",(function(){return l})),r.d(t,"b",(function(){return s})),r.d(t,"k",(function(){return i})),r.d(t,"c",(function(){return u})),r.d(t,"m",(function(){return c})),r.d(t,"p",(function(){return m})),r.d(t,"u",(function(){return d})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return b})),r.d(t,"l",(function(){return f})),r.d(t,"o",(function(){return h})),r.d(t,"r",(function(){return g})),r.d(t,"s",(function(){return v})),r.d(t,"a",(function(){return F})),r.d(t,"j",(function(){return k})),r.d(t,"i",(function(){return w})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return S})),r.d(t,"h",(function(){return j}));var a=r("b775");function n(e){return Object(a["a"])({url:"api/Sys/DisableTeamStaff",method:"get",showLoading:!0,params:e})}function o(e){return Object(a["a"])({url:"api/Sys/EnableTeamStaff",method:"get",showLoading:!0,params:e})}function l(e){return Object(a["a"])({url:"api/Sys/SaveTeamStaff",method:"post",data:e})}function s(e){return Object(a["a"])({url:"api/Sys/GetTeamStaff",method:"get",showLoading:!0,params:e})}function i(e){return Object(a["a"])({url:"api/Sys/AddTeamStaff",method:"post",data:e})}function u(e){return Object(a["a"])({url:"api/Sys/GetTeamStaffList",method:"get",params:e})}function c(e){return Object(a["a"])({url:"api/Sys/DisableTeamInfo",method:"get",showLoading:!0,params:e})}function m(e){return Object(a["a"])({url:"api/Sys/EnableTeamInfo",method:"get",showLoading:!0,params:e})}function d(e){return Object(a["a"])({url:"api/Sys/SaveTeamUserInfo",method:"post",data:e})}function p(e){return Object(a["a"])({url:"api/Sys/GetTeamUserInfo",method:"get",showLoading:!0,params:e})}function b(e){return Object(a["a"])({url:"api/Sys/GetTeamUserInfos",method:"get",params:e})}function f(e){return Object(a["a"])({url:"api/Sys/AddTeamUserInfo",method:"post",data:e})}function h(e){return Object(a["a"])({url:"api/Sys/DisableUserInfo",method:"get",showLoading:!0,params:e})}function g(e){return Object(a["a"])({url:"api/Sys/EnableUserInfo",method:"get",showLoading:!0,params:e})}function v(e){return Object(a["a"])({url:"api/Sys/SaveManagementUserInfo",method:"post",data:e})}function F(e){return Object(a["a"])({url:"api/Sys/GetManagementUserInfo",method:"get",showLoading:!0,params:e})}function k(e){return Object(a["a"])({url:"api/Sys/AddManagementUserInfo",method:"post",data:e})}function w(e){return Object(a["a"])({url:"api/Sys/GetManagementUserInfos",method:"get",params:e})}function y(e){return Object(a["a"])({url:"/vue-admin-template/user-management/user-confirm",method:"get",params:e})}function S(e){return Object(a["a"])({url:"/vue-admin-template/user-management/user-fill-code",method:"get",params:e})}function j(e){return Object(a["a"])({url:"/vue-admin-template/user-management/user-review",method:"get",params:e})}},df72:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("search-panel",{model:{value:e.searchPanelActive,callback:function(t){e.searchPanelActive=t},expression:"searchPanelActive"}},[r("bar",{attrs:{slot:"title"},slot:"title"},[r("bar-space"),r("bar-cell",[r("el-button",{attrs:{icon:"el-icon-refresh",size:e.tableSize},on:{click:e.doRefresh}},[e._v("刷新")])],1),r("bar-cell",[r("el-button",{attrs:{icon:"el-icon-s-grid",size:e.tableSize},on:{click:e.createFillCode}},[e._v("人员填报码")])],1)],1),r("el-form",{ref:"searchForm",attrs:{inline:"","label-position":"top",size:e.tableSize},model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[r("el-form-item",{attrs:{label:"所属层级",prop:"level"}},[r("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.level,callback:function(t){e.$set(e.searchForm,"level",t)},expression:"searchForm.level"}},[r("el-option",{attrs:{label:"全部",value:"0"}}),r("el-option",{attrs:{label:"总队",value:"1"}}),r("el-option",{attrs:{label:"指导中心",value:"2"}}),r("el-option",{attrs:{label:"部局",value:"3"}})],1)],1),r("el-form-item",{attrs:{label:"职称",prop:"job_title"}},[r("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.job_title,callback:function(t){e.$set(e.searchForm,"job_title",t)},expression:"searchForm.job_title"}},[r("el-option",{attrs:{label:"全部",value:"0"}})],1)],1),r("el-form-item",{attrs:{label:"审核状态",prop:"approval_status"}},[r("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.approval_status,callback:function(t){e.$set(e.searchForm,"approval_status",t)},expression:"searchForm.approval_status"}},[r("el-option",{attrs:{label:"全部",value:"3"}})],1)],1),r("el-form-item",{attrs:{label:"搜索关键字",prop:"search_key"}},[r("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入姓名/手机号码/身份证号",clearable:""},model:{value:e.searchForm.search_key,callback:function(t){e.$set(e.searchForm,"search_key",t)},expression:"searchForm.search_key"}})],1),r("el-form-item",{attrs:{label:"操作"}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchFormSubmit}},[e._v("搜索")]),r("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.searchFormReset}},[e._v("清空")])],1)],1)],1),r("table-body",{ref:"mkTable",attrs:{"index-row":e.indexRow,loading:e.tableLoading,columns:e.columns,"table-data":e.tableData,options:e.tableOptions,pagination:e.pagination},on:{"pagination-current-change":e.paginationCurrenChange,"pagination-size-change":e.paginationSizeChange}},[r("el-table-column",{attrs:{slot:"approvalStatus",label:"状态",align:"center","min-width":"50px"},slot:"approvalStatus",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[0===a.approvalStatus?r("span",[e._v("未审核")]):e._e(),1===a.approvalStatus?r("span",[e._v("未投稿")]):e._e(),2===a.approvalStatus?r("span",[e._v("成功")]):e._e(),99===a.approvalStatus?r("span",{staticClass:"text-red"},[e._v("已驳回")]):e._e()]}}])}),r("el-table-column",{attrs:{slot:"operate",label:"操作",width:"160",align:"center",fixed:"right"},slot:"operate",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-link",{attrs:{type:"danger"},on:{click:function(t){return e.handleReview(a)}}},[e._v("审核")]),r("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.handleOpen(a)}}},[e._v("查看详情")])]}}])})],1),r("el-dialog",{attrs:{title:"人员信息审核",visible:e.userFormVisible,"destroy-on-close":"","before-close":e.userFormClose}},[r("el-form",{ref:"userForm",attrs:{"label-position":"right","label-width":"120px",model:e.userForm,rules:e.userFormRules,size:e.tableSize}},[r("el-form-item",{attrs:{label:"所属层级"}},[r("span",[e._v("浙江省总队")])]),r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1),r("el-form-item",{attrs:{label:"身份证号",prop:"idCard"}},[r("el-input",{attrs:{placeholder:"请输入身份证号"},model:{value:e.userForm.idCard,callback:function(t){e.$set(e.userForm,"idCard",t)},expression:"userForm.idCard"}})],1),r("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[r("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:e.userForm.mobile,callback:function(t){e.$set(e.userForm,"mobile",t)},expression:"userForm.mobile"}})],1),r("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入电子邮箱"},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1),r("el-form-item",{attrs:{label:"职称",prop:"jobTitle"}},[r("el-select",{staticClass:"width-full",attrs:{placeholder:"请选择"},model:{value:e.userForm.jobTitle,callback:function(t){e.$set(e.userForm,"jobTitle",t)},expression:"userForm.jobTitle"}},e._l(e.jobTitleOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.key,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"系统角色",prop:"character"}},[r("el-checkbox-group",{attrs:{size:e.tableSize},model:{value:e.userForm.character,callback:function(t){e.$set(e.userForm,"character",t)},expression:"userForm.character"}},[r("el-checkbox",{attrs:{label:"管理员",border:""}}),r("el-checkbox",{attrs:{label:"考务员",border:""}}),r("el-checkbox",{attrs:{label:"网站管理员",border:""}})],1)],1),r("el-form-item",{attrs:{label:"微信绑定"}},[r("span",[e._v(e._s(e.userForm.weChat||"未绑定"))])]),r("el-form-item",{attrs:{label:"状态"}},[r("el-radio-group",{model:{value:e.userForm.status,callback:function(t){e.$set(e.userForm,"status",t)},expression:"userForm.status"}},[r("el-radio",{attrs:{label:1}},[e._v("启用")]),r("el-radio",{attrs:{label:0}},[e._v("停用")])],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.userFormTurnDown("userForm")}}},[e._v("驳回")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.userFormPass("userForm")}}},[e._v("审核通过")]),r("el-button",{on:{click:function(t){return e.userFormClose()}}},[e._v("返回")])],1)],1),r("QrCode",{attrs:{visible:e.userFillCodeVisible,"image-url":e.userFillCodeUrl},on:{closeQrCode:e.userFillCodeClose}}),r("el-dialog",{attrs:{title:"驳回确认",visible:e.userTurnDownVisible,"before-close":e.userTurnDownClose,top:"30vh","destroy-on-close":""}},[r("el-form",{ref:"userTurnDown",attrs:{"label-position":"right","label-width":"100px",model:e.userTurnDownForm,rules:e.userTurnDownFormRules,size:e.tableSize}},[r("el-form-item",{attrs:{label:"驳回意见",prop:"rejectionReason"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请填写驳回申请原因"},model:{value:e.userTurnDownForm.rejectionReason,callback:function(t){e.$set(e.userTurnDownForm,"rejectionReason",t)},expression:"userTurnDownForm.rejectionReason"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.userTurnDownConfirm("userTurnDown")}}},[e._v("确认驳回")]),r("el-button",{on:{click:function(t){return e.userTurnDownClose()}}},[e._v("返回")])],1)],1)],1)},n=[],o=(r("d3b7"),r("5530")),l=r("2f62"),s=r("40a4"),i={data:function(){return{searchPanelActive:!0,searchForm:{level:"",job_title:"",approval_status:"",search_key:""},columns:[{title:"所属层级",key:"level",align:"center"},{title:"姓名",key:"name",align:"center"},{title:"职称",key:"jobTitle",align:"center",formatter:function(e,t,r,a){var n="";switch(e.jobTitle){case 1:n="初级";break;case 2:n="中级";break;case 3:n="高级";break}return n}},{title:"身份证",key:"idCard",align:"center",width:150},{title:"手机号码",key:"mobile",align:"center"},{title:"电子邮箱",key:"email",align:"center"},{title:"提交时间",key:"createTime",align:"center"},{title:"提交时间",key:"createTime",align:"center"},{title:"状态",key:"approvalStatus",align:"center",slot:"approvalStatus"},{title:"审核时间",key:"reviewTime",align:"center"},{title:"审核人",key:"reviewer",align:"center"}],indexRow:{title:"序号",align:"center",width:60},tableLoading:!1,tableData:[],tableOptions:{border:!0,headerCellClassName:"table-header-bg"},pagination:{currentPage:1,pageSize:20,total:1},userFormVisible:!1,userForm:{name:"",idCard:"",mobile:"",email:"",jobTitle:"",character:[],weChat:"",status:1},userFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证号",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号码",trigger:"blur"}],email:[{required:!0,message:"请输入电子邮箱",trigger:"blur"}],jobTitle:[{required:!0,message:"请选择职称",trigger:"change"}],character:[{required:!0,message:"请选择系统角色",trigger:"change"}]},jobTitleOptions:[{key:"初级",value:1},{key:"中级",value:2},{key:"高级",value:3}],userFillCodeVisible:!1,userFillCodeUrl:"",userTurnDownVisible:!1,userTurnDownForm:{rejectionReason:""},userTurnDownFormRules:{rejectionReason:[{required:!0,message:"请填写驳回意见",trigger:"blur"}]}}}},u={name:"UserAccount",components:{Bar:function(){return r.e("chunk-2d0bac10").then(r.bind(null,"390d"))},BarCell:function(){return r.e("chunk-2d221e17").then(r.bind(null,"cbdf"))},BarSpace:function(){return r.e("chunk-2d2218de").then(r.bind(null,"cb9b"))},SearchPanel:function(){return r.e("chunk-c808d2de").then(r.bind(null,"978e"))},TableBody:function(){return r.e("chunk-79d593e5").then(r.bind(null,"2c21"))},QrCode:function(){return r.e("chunk-2d0cf686").then(r.bind(null,"641c"))}},mixins:[i],computed:Object(o["a"])({},Object(l["c"])({tableSize:function(e){return e.settings.tableSize}})),created:function(){this.doLoad()},methods:{doRefresh:function(){var e=this;Object(s["h"])().then((function(t){e.tableData=t.data.items}))},doLoad:function(){this.doRefresh()},doCreate:function(){this.isEdit=!1,this.userFormVisible=!0},searchFormSubmit:function(){},searchFormReset:function(){this.searchForm={level:"",job_title:"",approval_status:"",search_key:""},this.doRefresh()},createFillCode:function(){var e=this;Object(s["g"])().then((function(t){e.userFillCodeVisible=!0,e.userFillCodeUrl=t.data.items.codeUrl}))},userFillCodeClose:function(){this.userFillCodeVisible=!1,this.userFillCodeUrl=""},handleReview:function(e){this.userFormVisible=!0,this.userForm=Object(o["a"])({},e)},userFormClose:function(){this.userFormVisible=!1,this.userForm={name:"",idCard:"",mobile:"",email:"",jobTitle:"",character:[],weChat:"",status:1}},userFormTurnDown:function(){this.userTurnDownVisible=!0},userTurnDownClose:function(){this.userTurnDownVisible=!1,this.userTurnDownForm={rejectionReason:""}},userTurnDownConfirm:function(e){var t=this;this.$refs[e].validate((function(e){e?(t.userForm.rejectionReason=t.userTurnDownForm.rejectionReason,t.$message({message:"驳回成功",type:"success"}),t.userTurnDownClose(),t.userFormClose()):console.log("error submit!!")}))},userFormPass:function(){var e=this;this.$confirm("是否确定审核通过","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){})).then((function(){e.userFormClose(),e.doRefresh(),e.$message({type:"success",message:"操作成功!已将账号密码发送至工作人员手机"})}))},paginationCurrenChange:function(e){this.pagination.currentPage=e,this.doRefresh()},paginationSizeChange:function(e){this.pagination.pageSize=e,this.doRefresh()}}},c=u,m=r("2877"),d=Object(m["a"])(c,a,n,!1,null,null,null);t["default"]=d.exports}}]);