(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b94fe104"],{3878:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form-item",{attrs:{label:e.label,prop:e.levelProp}},[n("el-select",{directives:[{name:"show",rawName:"v-show",value:e.showFirstLevel,expression:"showFirstLevel"}],attrs:{placeholder:e.firstLevelPlaceholder,disabled:e.disabled||e.firstLevelDisabled},on:{change:e.changeFirstLevel},model:{value:e.first,callback:function(t){e.first=t},expression:"first"}},e._l(e.firstLevelList,(function(e){return n("el-option",{key:e.NCID,attrs:{label:e.Name,value:e.NCID}})})),1),e.showSecond?n("el-select",{attrs:{loading:e.loadingSecond,placeholder:e.secondLevelPlaceholder,disabled:e.disabled||e.secondLevelDisabled},on:{change:e.changeSecondLevel},model:{value:e.second,callback:function(t){e.second=t},expression:"second"}},e._l(e.secondLevelList,(function(e){return n("el-option",{key:e.NCID,attrs:{label:e.Name,value:e.NCID}})})),1):e._e()],1)},a=[],l=(n("a9e3"),n("b85c")),r=(n("96cf"),n("1da1")),i=n("9862"),o={name:"NewsCategorySelect",props:{status:{type:Number,default:1},label:{type:String,default:""},levelProp:{type:String,default:""},firstLevel:{type:Number,default:null},firstLevelPlaceholder:{type:String,default:""},firstLevelDisabled:{type:Boolean,default:!1},showFirstLevel:{type:Boolean,default:!0},secondLevel:{type:Number,default:null},secondLevelPlaceholder:{type:String,default:""},secondLevelDisabled:{type:Boolean,default:!1},showSecondLevel:{type:Boolean,default:!0},hideSecondLevelEmpty:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{loadingSecond:!1,firstLevelList:[],secondLevelList:[],first:null,second:null,hasLoadFirstList:!1}},computed:{showSecond:function(){var e=this.secondLevelList.length>0,t=!this.hideSecondLevelEmpty||e;return this.showSecondLevel&&t}},watch:{firstLevel:{handler:function(e){this.preset()}}},created:function(){this.getData()},methods:{getData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={Status:e.status,PageIndex:1,PageSize:9999},t.next=3,Object(i["e"])(n);case 3:s=t.sent,s.success&&(e.hasLoadFirstList=!0,e.firstLevelList=s.data,e.preset());case 5:case"end":return t.stop()}}),t)})))()},preset:function(e,t){var n=this.firstLevel,s=this.secondLevel;this.secondLevelList=[],this.first=e||n,this.changeFirstLevel(this.firstLevel),this.showSecondLevel&&(this.second=t||s,this.changeSecondLevel(this.secondLevel))},getRes:function(){var e={firstLevel:this.first,secondLevel:this.second};return e},changeFirstLevel:function(e){if(this.hasLoadFirstList){if(""!==e){this.second=null,this.loadingSecond=!0;var t,n=Object(l["a"])(this.firstLevelList);try{for(n.s();!(t=n.n()).done;){var s=t.value;if(s.NCID===e){this.secondLevelList=s.chilren,this.loadingSecond=!1;break}}}catch(a){n.e(a)}finally{n.f()}}else this.secondLevelList=[];this.$emit("newsCategoryChange",this.getRes())}},changeSecondLevel:function(e){this.$emit("newsCategoryChange",this.getRes())}}},c=o,d=n("2877"),u=Object(d["a"])(c,s,a,!1,null,null,null);t["default"]=u.exports},9862:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return c}));var s=n("b775");function a(e){return Object(s["a"])({url:"api/WebManager/GetNewsCategoryList",method:"get",params:e})}function l(e){return Object(s["a"])({url:"api/WebManager/EnableNewsCategory",method:"post",data:e})}function r(e){return Object(s["a"])({url:"api/WebManager/DisableNewsCategory",method:"post",data:e})}function i(e){return Object(s["a"])({url:"api/WebManager/AddNewsCategory",method:"post",data:e})}function o(e){return Object(s["a"])({url:"api/WebManager/UpdateNewsCategory",method:"post",data:e})}function c(e){return Object(s["a"])({url:"api/WebManager/DeleteNewsCategory",method:"post",data:e})}}}]);