(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0647f645"],{"5d8b":function(t,e,n){"use strict";n.d(e,"l",(function(){return a})),n.d(e,"o",(function(){return i})),n.d(e,"r",(function(){return o})),n.d(e,"i",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"n",(function(){return c})),n.d(e,"c",(function(){return d})),n.d(e,"f",(function(){return l})),n.d(e,"m",(function(){return f})),n.d(e,"b",(function(){return m})),n.d(e,"e",(function(){return b})),n.d(e,"k",(function(){return h})),n.d(e,"a",(function(){return p})),n.d(e,"d",(function(){return g})),n.d(e,"q",(function(){return O})),n.d(e,"p",(function(){return j})),n.d(e,"s",(function(){return D})),n.d(e,"j",(function(){return x})),n.d(e,"h",(function(){return E}));var r=n("b775");function a(t){return Object(r["a"])({url:"api/station/ExaminerInfos",method:"get",params:t})}function i(t){return Object(r["a"])({url:"api/station/LoadExaminerInfo",method:"get",params:t})}function o(t){return Object(r["a"])({url:"api/station/SaveExaminerInfo",method:"post",data:t})}function s(t){return Object(r["a"])({url:"api/station/EnableExaminer",method:"get",params:t})}function u(t){return Object(r["a"])({url:"api/station/DisableExaminer",method:"get",params:t})}function c(t){return Object(r["a"])({url:"api/station/ExaminerTrainings",method:"get",params:t})}function d(t){return Object(r["a"])({url:"api/station/AddExaminerTrainings",method:"post",data:t})}function l(t){return Object(r["a"])({url:"api/station/DelExaminerTrainings",method:"get",params:t})}function f(t){return Object(r["a"])({url:"api/station/ExaminerPraises",method:"get",params:t})}function m(t){return Object(r["a"])({url:"api/station/AddExaminerPraise",method:"post",data:t})}function b(t){return Object(r["a"])({url:"api/station/DelExaminerPraise",method:"get",params:t})}function h(t){return Object(r["a"])({url:"api/station/ExaminerDisciplines",method:"get",params:t})}function p(t){return Object(r["a"])({url:"api/station/AddExaminerDiscipline",method:"post",data:t})}function g(t){return Object(r["a"])({url:"api/station/DelExaminerDiscipline",method:"post",data:t})}function O(t){return Object(r["a"])({url:"api/station/PersonnelRecordsList",method:"get",params:t})}function j(t){return Object(r["a"])({url:"api/station/LoadPersonnelRecords",method:"get",params:t})}function D(t){return Object(r["a"])({url:"api/station/SavePersonnelRecords",method:"post",data:t})}function x(t){return Object(r["a"])({url:"api/station/EnablePersonnelRecords",method:"get",params:t})}function E(t){return Object(r["a"])({url:"api/station/DisablePersonnelRecords",method:"get",params:t})}},d02c:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("bar",{attrs:{slot:"title"},slot:"title"},[n("bar-cell"),n("h4",[t._v("姓名："+t._s(t.userInfo.UserName))]),n("bar-space"),n("bar-cell",[t.showBtnCreate?n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:t.tableSize},on:{click:t.handleCreate}},[t._v("录入培训记录")]):t._e()],1)],1),n("table-body",{ref:"mkTable",attrs:{loading:t.tableLoading,columns:t.columns,"table-data":t.tableData,options:t.tableOptions,"has-padding":!1}},[n("el-table-column",{attrs:{slot:"operate",label:"操作",width:"230",align:"center",fixed:"right"},slot:"operate",scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t.showBtnDelete?n("el-link",{attrs:{type:"danger"},on:{click:function(e){return t.handleDetele(r)}}},[t._v("删除")]):t._e()]}}])})],1),n("RecordDialog",{attrs:{visible:t.recordFormVisible,category:"Training"},on:{"update:visible":function(e){t.recordFormVisible=e},sure:t.recordDialogSure}})],1)},a=[],i=(n("d3b7"),n("5530")),o=n("2f62"),s=n("ed08"),u=n("5d8b"),c={name:"Training",components:{Bar:function(){return n.e("chunk-2d0bac10").then(n.bind(null,"390d"))},BarCell:function(){return n.e("chunk-2d221e17").then(n.bind(null,"cbdf"))},BarSpace:function(){return n.e("chunk-2d2218de").then(n.bind(null,"cb9b"))},TableBody:function(){return n.e("chunk-79d593e5").then(n.bind(null,"2c21"))},RecordDialog:function(){return n.e("chunk-2d0a4f99").then(n.bind(null,"0971"))}},props:{userInfo:{type:Object,default:null}},data:function(){return{recordFormVisible:!1,columns:[{title:"培训时间",key:"TrainingDate",headerAlign:"center",formatter:function(t,e,n,r){return Object(s["e"])(t.TrainingDate,"{y}-{m}-{d}")}},{title:"培训地点",key:"Address",headerAlign:"center"},{title:"培训内容",key:"TrainingContent",headerAlign:"center"}],tableLoading:!1,tableData:[],tableOptions:{border:!0,headerCellClassName:"table-header-bg"}}},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])({tableSize:function(t){return t.settings.tableSize}})),{},{showBtnCreate:function(){var t=this.roles;return"Station"===t||"Site"===t},showBtnDelete:function(){var t=this.roles;return"Station"===t||"Site"===t}}),created:function(){this.doLoad()},methods:{doLoad:function(){this.$route.params&&this.$route.params.id&&(this.id=this.$route.params.id,this.doRefresh())},doRefresh:function(){var t=this;this.roles=this.$store.getters.mainRoles,this.tableLoading=!0,Object(u["n"])({ExaminerID:this.id}).then((function(e){t.tableLoading=!1,e.success&&(t.tableData=e.response)})).catch((function(e){console.log(e),t.tableLoading=!1}))},recordFormShow:function(){this.recordFormVisible=!0},recordFormHide:function(){this.recordFormVisible=!1},handleCreate:function(){this.recordFormShow()},handleDetele:function(t){var e=this;this.$confirm("确定删除本条记录吗?删除后将无法恢复","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n={ExaminerID:e.id,TrainingID:t.TrainingID};Object(u["f"])(n).then((function(t){t.success&&(e.$message({type:"success",message:"删除成功!"}),e.doRefresh())}))}))},recordDialogSure:function(t){var e=this,n=t.date,r=t.address,a=t.content,i={examinerID:this.id,trainingDate:n,address:r,trainingContent:a};Object(u["c"])(i).then((function(t){t.success&&(e.$message({message:"恭喜您，提交成功",type:"success"}),e.recordFormHide(),e.doRefresh())}))}}},d=c,l=n("2877"),f=Object(l["a"])(d,r,a,!1,null,null,null);e["default"]=f.exports}}]);