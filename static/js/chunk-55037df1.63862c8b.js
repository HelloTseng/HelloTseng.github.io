(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55037df1"],{f37d:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"h",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"g",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return d}));var n=a("b775");function r(e){return Object(n["a"])({url:"api/BadRecord/GetViolationDiscipline",method:"get",params:e})}function i(e){return Object(n["a"])({url:"api/BadRecord/UpdateViolationDiscipline",method:"post",data:e})}function s(e){return Object(n["a"])({url:"api/BadRecord/GetFalseDeclaration",method:"get",params:e})}function o(e){return Object(n["a"])({url:"api/BadRecord/UpdateFalseDeclaration",method:"post",data:e})}function l(e){return Object(n["a"])({url:"api/BadRecord/GetExamAbsent",method:"get",params:e})}function c(e){return Object(n["a"])({url:"api/BadRecord/UpdateExamAbsent",method:"post",data:e})}function u(e){return Object(n["a"])({url:"api/BadRecord/GetPunishRecordList",method:"get",params:e})}function d(e){return Object(n["a"])({url:"api/BadRecord/GetMissRecordList",method:"get",params:e})}},f547:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search-wrapper"},[a("el-form",{ref:"searchForm",attrs:{"label-position":"top",inline:"",size:e.tableSize},model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[a("el-form-item",{attrs:{label:"创建时间范围"}},[a("date-range-picker",{model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1),a("el-form-item",{attrs:{label:"当前状态"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"搜索关键字",prop:"search_key"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名/证件号码",clearable:""},model:{value:e.searchForm.search_key,callback:function(t){e.$set(e.searchForm,"search_key",t)},expression:"searchForm.search_key"}})],1),a("el-form-item",{attrs:{label:"操作"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchFormSubmit}},[e._v("查询")]),a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.searchFormReset}},[e._v("清空")])],1)],1)],1),a("table-body",{ref:"mkTable",attrs:{"index-row":e.indexRow,loading:e.tableLoading,columns:e.columns,"table-data":e.tableData,options:e.tableOptions,pagination:e.pagination},on:{"pagination-current-change":e.paginationCurrenChange,"pagination-size-change":e.paginationSizeChange}},[a("div",{attrs:{slot:"header"},slot:"header"},[e._v(" 本次查询共 "),a("strong",{staticClass:"text-red"},[e._v(e._s(e.pagination.total))]),e._v(" 条数据，处于禁止预约人员 "),a("strong",{staticClass:"text-red"},[e._v(e._s(e.bannedCount))]),e._v(" 人 ")]),a("el-table-column",{attrs:{slot:"RelateExamInfo",label:"考试预约不到场次","header-align":"center","min-width":250},slot:"RelateExamInfo",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return e._l(n.RelateExamInfo,(function(t,n){return a("div",{key:n,attrs:{flex:"dir:top"}},[a("span",[e._v(e._s(t))])])}))}}])}),a("el-table-column",{attrs:{slot:"BeginPunishDate",label:"处理结果","min-width":120,align:"center"},slot:"BeginPunishDate",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{attrs:{flex:"dir:top main:center"}},[a("span",[e._v("禁止预约")]),a("span",[e._v(" "+e._s(e._f("parseTime")(n.BeginPunishDate,"{y}-{m}-{d}"))+" - "+e._s(e._f("parseTime")(n.EndPunishDate,"{y}-{m}-{d}"))+" ")])])]}}])}),a("el-table-column",{attrs:{slot:"IsTakeEffect",label:"当前状态","min-width":80,align:"center"},slot:"IsTakeEffect",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{attrs:{flex:"dir:top main:center"}},[a("span",{class:n.IsTakeEffect?"":"text-green"},[e._v(e._s(n.IsTakeEffect?"禁止预约":"已解禁"))]),n.IsTakeEffect?a("span",[e._v("剩余时间")]):e._e(),n.IsTakeEffect?a("span",[e._v("（"),a("span",{staticClass:"text-red"},[e._v(e._s(e._f("distantTime")(n.EndPunishDate)))]),e._v("）")]):e._e()])]}}])})],1)],1)},r=[],i=(a("d81d"),a("d3b7"),a("5530")),s=a("2f62"),o=a("f37d"),l={data:function(){return{mainRoles:"",bannedCount:0,searchForm:{province:null,time:[],status:"",search_key:""},statusOptions:[{value:0,label:"已解禁"},{value:1,label:"禁止预约"}],columns:[{title:"姓名",key:"UserName",align:"center",minWidth:100},{title:"性别",key:"Gender",align:"center",minWidth:60,formatter:function(e,t,a,n){var r="";switch(e.Gender){case 0:r="女";break;case 1:r="男";break;case 2:r="保密";break}return r}},{title:"证件号码",key:"IDCardNum",align:"center",minWidth:120},{title:"考试预约不到场次",key:"RelateExamInfo",slot:"RelateExamInfo"},{title:"处理结果",key:"BeginPunishDate",slot:"BeginPunishDate"},{title:"当前状态",key:"IsTakeEffect",slot:"IsTakeEffect"}],indexRow:{title:"序号",align:"center",width:60},tableLoading:!1,tableData:[],tableOptions:{border:!0,headerCellClassName:"table-header-bg"},pagination:{currentPage:1,pageSize:20,total:0}}}},c={name:"MissedOrder",components:{DateRangePicker:function(){return a.e("chunk-2d210a9a").then(a.bind(null,"b99f"))},TableBody:function(){return a.e("chunk-79d593e5").then(a.bind(null,"2c21"))}},mixins:[l],computed:Object(i["a"])({},Object(s["c"])({tableSize:function(e){return e.settings.tableSize}})),created:function(){this.mainRoles=this.$store.getters.mainRoles,this.doLoad()},methods:{doLoad:function(){this.doRefresh()},doRefresh:function(){var e=this;this.mainRoles=this.$store.getters.mainRoles;var t=this.pagination,a=t.currentPage,n=t.pageSize,r=this.searchForm,s=r.time,l=r.status,c=r.search_key,u={beginDate:s.length?s[0]:"",endDate:s.length?s[1]:"",kw:c,status:""===l?-1:l,pageIndex:a,pageSize:n};console.log(u),this.tableLoading=!0,Object(o["c"])(u).then((function(t){if(e.tableLoading=!1,t.success){var a=t.response,n=[];a.data.length&&(n=a.data.map((function(e){return Object(i["a"])(Object(i["a"])({},e),e.Student)}))),e.tableData=n,e.pagination.total=a.dataCount,e.bannedCount=a.DurNotReservationCount}})).catch((function(t){e.tableLoading=!1}))},paginationCurrenChange:function(e){this.pagination.currentPage=e,this.doRefresh()},paginationSizeChange:function(e){this.pagination.pageSize=e,this.doRefresh()},searchFormSubmit:function(){this.pagination.currentPage=1,this.doRefresh()},searchFormReset:function(e){this.searchForm={time:[],status:"",search_key:""},this.searchFormSubmit()}}},u=c,d=a("2877"),h=Object(d["a"])(u,n,r,!1,null,null,null);t["default"]=h.exports}}]);