(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6da89bb5"],{2934:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"n",(function(){return h})),n.d(t,"m",(function(){return f})),n.d(t,"l",(function(){return b})),n.d(t,"d",(function(){return g}));var a=n("b775");function r(e){return Object(a["a"])({url:"api/Sys/CheckUserInfo",method:"get",noNoticeError:!0,params:e})}function i(e){return Object(a["a"])({url:"api/Sys/GetSelRoleList",method:"get",params:e})}function s(e){return Object(a["a"])({url:"api/Sys/GetEnableProfessionnalTitles",method:"get",params:e})}function o(e){return Object(a["a"])({url:"api/Sys/GetEnableExaminerProfessionnalTitles",method:"get",params:e})}function c(e){return Object(a["a"])({url:"api/Global/GetRegionList",method:"get",params:e})}function l(e){return Object(a["a"])({url:"api/Station/GetSelSites",method:"get",params:e})}function u(e){return Object(a["a"])({url:"api/Sys/EnableProfessionList",method:"get",params:e})}function d(e){return Object(a["a"])({url:"api/Examination/LoadQuestionBankOptions",method:"get",params:e})}function m(e){return Object(a["a"])({url:"api/Sys/GetEnableEQLanguages",method:"get",params:e})}function p(e){return Object(a["a"])({url:"api/Station/EnableExamRoomLst",method:"get",params:e})}function h(e){return Object(a["a"])({url:"images/Upload/TempPic",method:"post",data:e,multiple:!0})}function f(e){return Object(a["a"])({url:"images/Upload/TempFile",method:"post",data:e,multiple:!0})}function b(e){return Object(a["a"])({url:"api/images/Upload/NewPic",method:"post",data:e,multiple:!0})}function g(e){return Object(a["a"])({url:"api/Station/EnableExaminerInfos",method:"get",params:e})}},"5d8b":function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"o",(function(){return i})),n.d(t,"r",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"m",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"k",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"q",(function(){return S})),n.d(t,"p",(function(){return v})),n.d(t,"s",(function(){return k})),n.d(t,"j",(function(){return y})),n.d(t,"h",(function(){return x}));var a=n("b775");function r(e){return Object(a["a"])({url:"api/station/ExaminerInfos",method:"get",params:e})}function i(e){return Object(a["a"])({url:"api/station/LoadExaminerInfo",method:"get",params:e})}function s(e){return Object(a["a"])({url:"api/station/SaveExaminerInfo",method:"post",data:e})}function o(e){return Object(a["a"])({url:"api/station/EnableExaminer",method:"get",params:e})}function c(e){return Object(a["a"])({url:"api/station/DisableExaminer",method:"get",params:e})}function l(e){return Object(a["a"])({url:"api/station/ExaminerTrainings",method:"get",params:e})}function u(e){return Object(a["a"])({url:"api/station/AddExaminerTrainings",method:"post",data:e})}function d(e){return Object(a["a"])({url:"api/station/DelExaminerTrainings",method:"get",params:e})}function m(e){return Object(a["a"])({url:"api/station/ExaminerPraises",method:"get",params:e})}function p(e){return Object(a["a"])({url:"api/station/AddExaminerPraise",method:"post",data:e})}function h(e){return Object(a["a"])({url:"api/station/DelExaminerPraise",method:"get",params:e})}function f(e){return Object(a["a"])({url:"api/station/ExaminerDisciplines",method:"get",params:e})}function b(e){return Object(a["a"])({url:"api/station/AddExaminerDiscipline",method:"post",data:e})}function g(e){return Object(a["a"])({url:"api/station/DelExaminerDiscipline",method:"post",data:e})}function S(e){return Object(a["a"])({url:"api/station/PersonnelRecordsList",method:"get",params:e})}function v(e){return Object(a["a"])({url:"api/station/LoadPersonnelRecords",method:"get",params:e})}function k(e){return Object(a["a"])({url:"api/station/SavePersonnelRecords",method:"post",data:e})}function y(e){return Object(a["a"])({url:"api/station/EnablePersonnelRecords",method:"get",params:e})}function x(e){return Object(a["a"])({url:"api/station/DisablePersonnelRecords",method:"get",params:e})}},e278:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("search-panel",{model:{value:e.searchPanelActive,callback:function(t){e.searchPanelActive=t},expression:"searchPanelActive"}},[n("bar",{attrs:{slot:"title"},slot:"title"},[n("bar-space"),n("bar-cell",[n("el-button",{attrs:{icon:"el-icon-refresh",size:e.tableSize},on:{click:e.doRefresh}},[e._v("刷新")])],1),n("bar-cell",[n("div",{directives:[{name:"permission",rawName:"v-permission",value:"create",expression:"'create'"}]},[n("el-button",{attrs:{icon:"el-icon-plus",size:e.tableSize,type:"danger"},on:{click:e.handleCreate}},[e._v("新增考评员")])],1)])],1),n("el-form",{ref:"searchForm",attrs:{"label-position":"top",inline:"",size:e.tableSize},model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[e.showAreaSelectSearch?n("area-select",{attrs:{"area-label":"省份","show-city":!1,"province-code":e.searchForm.province},on:{areaSelectChange:e.searchFormAreaChange}}):e._e(),e.showSiteSelectSearch?n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,"type",t)},expression:"searchForm.type"}},[n("el-option",{attrs:{label:"鉴定站",value:0}}),n("el-option",{attrs:{label:"鉴定点",value:1}})],1)],1):e._e(),n("el-form-item",{attrs:{label:"职称"}},[n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.PTID,callback:function(t){e.$set(e.searchForm,"PTID",t)},expression:"searchForm.PTID"}},e._l(e.professionTitleOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.key,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"考评工种"}},[n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.ProfessionID,callback:function(t){e.$set(e.searchForm,"ProfessionID",t)},expression:"searchForm.ProfessionID"}},e._l(e.professionOptions,(function(e){return n("el-option",{key:e.ProfessionID,attrs:{label:e.ProfessionName,value:e.ProfessionID}})})),1)],1),n("el-form-item",{attrs:{label:"违纪情况"}},[n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.IsWJ,callback:function(t){e.$set(e.searchForm,"IsWJ",t)},expression:"searchForm.IsWJ"}},[n("el-option",{attrs:{label:"未违纪",value:0}}),n("el-option",{attrs:{label:"已违纪",value:1}})],1)],1),n("el-form-item",{attrs:{label:"状态"}},[n("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.Status,callback:function(t){e.$set(e.searchForm,"Status",t)},expression:"searchForm.Status"}},[n("el-option",{attrs:{label:"停用",value:0}}),n("el-option",{attrs:{label:"启用",value:1}})],1)],1),n("el-form-item",{attrs:{label:"搜索关键字",prop:"search_key"}},[n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入姓名/联系号码",clearable:""},model:{value:e.searchForm.search_key,callback:function(t){e.$set(e.searchForm,"search_key",t)},expression:"searchForm.search_key"}})],1),n("el-form-item",{attrs:{label:"操作"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchFormSubmit}},[e._v("查询")]),n("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.searchFormReset}},[e._v("清空")])],1)],1)],1),n("table-body",{ref:"mkTable",attrs:{"index-row":e.indexRow,loading:e.tableLoading,columns:e.columns,"table-data":e.tableData,options:e.tableOptions,pagination:e.pagination},on:{"pagination-current-change":e.paginationCurrenChange,"pagination-size-change":e.paginationSizeChange}},[n("el-table-column",{attrs:{slot:"Status",label:"状态",align:"center","min-width":"50px"},slot:"Status",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.Status?n("span",{staticClass:"text-green"},[e._v("启用")]):e._e(),a.Status?e._e():n("span",{staticClass:"text-red"},[e._v("停用")])]}}])}),e.showOperate?n("el-table-column",{attrs:{slot:"operate",label:"操作",align:"center",fixed:"right","min-width":"120"},slot:"operate",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.Status?e._e():n("el-link",{directives:[{name:"permission",rawName:"v-permission",value:"enable",expression:"'enable'"}],attrs:{type:"success"},on:{click:function(t){return e.handleSwitchStatus(a)}}},[e._v("启用")]),a.Status?n("el-link",{directives:[{name:"permission",rawName:"v-permission",value:"disable",expression:"'disable'"}],attrs:{type:"danger"},on:{click:function(t){return e.handleSwitchStatus(a)}}},[e._v("停用")]):e._e(),n("el-link",{directives:[{name:"permission",rawName:"v-permission",value:"detail",expression:"'detail'"}],attrs:{type:"primary"},on:{click:function(t){return e.handleDetail(a)}}},[e._v("查看档案")]),n("el-link",{directives:[{name:"permission",rawName:"v-permission",value:"edit",expression:"'edit'"}],on:{click:function(t){return e.handleEdit(a)}}},[e._v("编辑档案")])]}}],null,!1,2013516738)}):e._e()],1)],1)},r=[],i=(n("4160"),n("caad"),n("d3b7"),n("159b"),n("5530")),s=n("2f62"),o=n("5d8b"),c=n("2934"),l=n("61f7"),u={methods:{isGuidance:function(){var e=!1,t=this.$store.getters.mainRoles;return"Guidance"===t&&(e=!0),e}},data:function(){return{role:"",searchPanelActive:!0,searchForm:{province:null,type:"",PTID:"",ProfessionID:"",IsWJ:"",Status:"",search_key:""},professionTitleOptions:[],professionOptions:[],columns:[{title:"所属站点",key:"SiteName",align:"center"},{title:"职称",key:"PTName",align:"center"},{title:"考评工种",key:"ProfessionName",align:"center"},{title:"姓名",key:"UserName",align:"center"},{title:"性别",key:"UserSex",align:"center",formatter:function(e){var t="";switch(e.UserSex){case 0:t="女";break;case 1:t="男";break;case 2:t="保密";break}return t}},{title:"身份证号",key:"IDCardNum",align:"center","min-width":150},{title:"联系号码",key:"MobilePhone",align:"center"},{title:"考评员证书编号",key:"CertificateNumber",align:"center"},{title:"违纪情况",key:"IsWJ",align:"center",formatter:function(e){var t="";try{e.Fraction<10&&(t="已违纪"),e.Fraction>=10&&(t="未违纪")}catch(n){console.log(n)}return t}},{title:"年度剩余分值",key:"Fraction",align:"center"},{title:"状态",key:"Status",slot:"Status"}],indexRow:{title:"序号",align:"center",width:60},tableLoading:!1,tableData:[],tableOptions:{border:!0,headerCellClassName:"table-header-bg"},pagination:{currentPage:1,pageSize:20,total:1},canEdit:!0,elForm:{SiteProfessionLst:[]},elFormRules:{RegionID:[{required:!0,message:"请输入",trigger:"blur"}],SiteType:[{required:!0,message:"请选择",trigger:"change"}],OrganizationCode:[{required:!0,message:"请输入",trigger:"blur"}],SiteName:[{required:!0,message:"请输入",trigger:"blur"}],AdminUserName:[{required:!0,message:"请输入",trigger:"blur"}],ContactNumber:[{required:!0,trigger:"blur",validator:function(e,t,n){l["g"](t)?n():n(new Error("请输入正确手机号码"))}}],Address:[{required:!0,message:"请输入",trigger:"blur"}],ContactEmail:[{required:!0,message:"请输入",trigger:"blur"}],Status:[{required:!0,message:"请选择",trigger:"change"}]},workTypeTable:[{title:"职业工种",key:"ProfessionName",align:"center"},{title:"技能等级",key:"SkillLevelName",align:"center"},{title:"是否可鉴定理论",key:"IsToTheory",align:"center",component:{name:"el-switch",disabled:!this.isGuidance()}},{title:"是否可鉴定技能",key:"IsToSkills",align:"center",component:{name:"el-switch",disabled:!this.isGuidance()}}]}}},d={name:"AssessorManagement",components:{AreaSelect:function(){return n.e("chunk-2d209560").then(n.bind(null,"a92d"))},Bar:function(){return n.e("chunk-2d0bac10").then(n.bind(null,"390d"))},BarCell:function(){return n.e("chunk-2d221e17").then(n.bind(null,"cbdf"))},BarSpace:function(){return n.e("chunk-2d2218de").then(n.bind(null,"cb9b"))},SearchPanel:function(){return n.e("chunk-c808d2de").then(n.bind(null,"978e"))},TableBody:function(){return n.e("chunk-79d593e5").then(n.bind(null,"2c21"))}},mixins:[u],computed:Object(i["a"])(Object(i["a"])({},Object(s["c"])({tableSize:function(e){return e.settings.tableSize}})),{},{showAreaSelectSearch:function(){var e=["Department","Guidance"];return e.includes(this.role)},showSiteSelectSearch:function(){var e=["Site"];return e.includes(this.role)},showOperate:function(){var e=["Site","Station"];return e.includes(this.role)}}),created:function(){this.role=this.$store.getters.mainRoles,this.doLoad()},methods:{doRefresh:function(){var e=this,t=this.pagination,n=this.searchForm,a=n.province,r=n.type,i=n.PTID,s=n.ProfessionID,c=n.IsWJ,l=n.Status,u=n.search_key,d={ProvinceNum:null===a?-1:a,SiteID:""===r?-1:r,PTID:""===i?-1:i,ProfessionID:""===s?-1:s,IsWJ:""===c?-1:c,Status:""===l?-1:l,KeyWord:u,PageIndex:t.currentPage,PageSize:t.pageSize};this.tableLoading=!0,Object(o["l"])(d).then((function(t){t.success&&(e.tableData=t.data,e.pagination.total=t.dataCount,e.tableLoading=!1)})).catch((function(t){e.tableLoading=!1}))},doLoad:function(){var e=this;Object(c["e"])().then((function(t){t.success&&(t.response.forEach((function(e){e.key=e.Name,e.value=e.PTID})),e.professionTitleOptions=t.response)})),Object(c["f"])().then((function(t){t.success&&(e.professionOptions=t.response)})),this.doRefresh()},searchFormSubmit:function(){this.doRefresh()},searchFormReset:function(){this.searchForm={province:null,type:"",PTID:"",ProfessionID:"",IsWJ:"",Status:"",search_key:""},this.doRefresh()},handleCreate:function(){this.$router.push({name:"CreateAssessorManagement"})},handleEdit:function(e){this.$router.push({name:"EditAssessorManagement",params:{id:e.ExaminerID}})},handleDetail:function(e){this.$router.push({name:"AssessorManagementDetail",params:{id:e.ExaminerID}})},handleSwitchStatus:function(e){var t=this,n=e.Status?"确定停用吗？":"确定启用吗？";this.$confirm(n,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.Status?t.batchClose(e):t.batchOpen(e)}))},batchOpen:function(e){var t=this,n={ExaminerID:e.ExaminerID};Object(o["i"])(n).then((function(e){e.success?(t.$message({type:"success",message:"操作成功"}),t.doRefresh()):t.$message({type:"success",message:"操作失败"})}))},batchClose:function(e){var t=this,n={ExaminerID:e.ExaminerID};Object(o["g"])(n).then((function(e){e.success?(t.$message({type:"success",message:"操作成功"}),t.doRefresh()):t.$message({type:"success",message:"操作失败"})}))},searchFormAreaChange:function(e){this.searchForm.province=e.provinceCode},paginationCurrenChange:function(e){this.pagination.currentPage=e,this.doRefresh()},paginationSizeChange:function(e){this.pagination.pageSize=e,this.doRefresh()}}},m=d,p=n("2877"),h=Object(p["a"])(m,a,r,!1,null,null,null);t["default"]=h.exports}}]);