(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a4bd428"],{"5b8f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("InfoListTable",{attrs:{column:"Fade"}})},r=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("search-panel",{model:{value:e.searchPanelActive,callback:function(t){e.searchPanelActive=t},expression:"searchPanelActive"}},[a("bar",{attrs:{slot:"title"},slot:"title"},[a("bar-space"),a("bar-cell",[a("el-button",{attrs:{icon:"el-icon-refresh",size:e.tableSize},on:{click:e.doRefresh}},[e._v("刷新")])],1)],1),a("el-form",{ref:"searchForm",attrs:{"label-position":"top",inline:"",size:e.tableSize},model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[e.showAreaSelectSearch?a("AreaSelect",{attrs:{"area-label":"省份","show-city":!1,"province-code":e.searchForm.province},on:{areaSelectChange:e.searchFormAreaChange}}):e._e(),e.showTimeType?a("el-form-item",{attrs:{label:"时间类型"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.timeType,callback:function(t){e.$set(e.searchForm,"timeType",t)},expression:"searchForm.timeType"}},e._l(e.timeTypeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"日期范围"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1),e.showDegree?a("el-form-item",{attrs:{label:"违纪程度"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.degree,callback:function(t){e.$set(e.searchForm,"degree",t)},expression:"searchForm.degree"}},e._l(e.degreeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.showFadeType?a("el-form-item",{attrs:{label:"虚假内容"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择"},model:{value:e.searchForm.fadeType,callback:function(t){e.$set(e.searchForm,"fadeType",t)},expression:"searchForm.fadeType"}},e._l(e.fadeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"搜索关键字",prop:"search_key"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名/证件号码/违纪内容",clearable:""},model:{value:e.searchForm.search_key,callback:function(t){e.$set(e.searchForm,"search_key",t)},expression:"searchForm.search_key"}})],1),a("el-form-item",{attrs:{label:"操作"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchFormSubmit}},[e._v("查询")]),a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.searchFormReset}},[e._v("清空")])],1)],1)],1),a("div",{staticStyle:{padding:"20px 20px 0"}},[e._v(" 本次查询共 "),a("strong",{staticClass:"text-red"},[e._v(e._s(e.pagination.total))]),e._v(" 条数据，其中处于禁考期 "),a("strong",{staticClass:"text-red"},[e._v(e._s(e.bannedCount))]),e._v(" 人 ")]),a("table-body",{ref:"mkTable",attrs:{"index-row":e.indexRow,loading:e.tableLoading,columns:e.columns,"table-data":e.tableData,options:e.tableOptions,pagination:e.pagination},on:{"pagination-current-change":e.paginationCurrenChange,"pagination-size-change":e.paginationSizeChange}},[a("el-table-column",{attrs:{slot:"ProfessionNames",label:"鉴定工种/等级/方向","min-width":"120px","header-align":"center"},slot:"ProfessionNames",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return e._l(n.ProfessionNames,(function(t,n){return a("div",{key:n},[e._v(e._s(t)),a("br")])}))}}])}),a("el-table-column",{attrs:{slot:"Result",label:"处理结果","min-width":"120px","header-align":"center"},slot:"Result",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return e._l(n.Result,(function(t,n){return a("div",{key:n},[e._v(e._s(t)),a("br")])}))}}])}),a("el-table-column",{attrs:{slot:"operate",label:"操作",align:"center",fixed:"right"},slot:"operate",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.handleDetail(n)}}},[e._v("查看")])]}}])})],1)],1)},i=[],o=(a("caad"),a("d81d"),a("d3b7"),a("5530")),c=a("2f62"),s=a("f37d"),u=a("ed08"),d={data:function(){return{mainRoles:"",bannedCount:0,searchPanelActive:!0,searchForm:{province:null,time:[],timeType:"",fadeType:"",degree:"",state:"",search_key:""},degreeOptions:[{value:0,label:"普通违纪"},{value:1,label:"严重违纪"},{value:2,label:"特别严重违纪"}],timeTypeOptions:[{value:0,label:"报名时间"},{value:1,label:"处罚时间"}],fadeOptions:[{value:0,label:"年龄要求"},{value:1,label:"学历要求"},{value:2,label:"专业要求"},{value:3,label:"职业要求"},{value:4,label:"职业年限"},{value:5,label:"资格要求"},{value:6,label:"身体素质要求"},{value:7,label:"其他"}],stateOptions:[{value:1,label:"正常"},{value:0,label:"禁止考试"}],columns:[{title:"姓名",key:"UserName",align:"center"},{title:"性别",key:"Gender",align:"center",formatter:function(e,t,a,n){var r="";switch(e.Gender){case 0:r="女";break;case 1:r="男";break;case 2:r="保密";break}return r}},{title:"证件号码",key:"IDCardNum",align:"center","min-width":120},{title:"鉴定工种/等级/方向",key:"ProfessionNames",slot:"ProfessionNames"},{title:"虚报内容",key:"FadeContent",align:"center"},{title:"考试科目",key:"PlanType",align:"center",formatter:function(e,t,a,n){return e.PlanType?"技能":"理论"}},{title:"违纪内容",key:"BreachContent",align:"center"},{title:"违纪时间",key:"BreachTime",align:"center","min-width":120,formatter:function(e,t,a,n){return Object(u["e"])(e.BreachTime)||"-"}},{title:"处理结果",key:"Result",slot:"Result"},{title:"禁考状态",key:"Status",align:"center"}],indexRow:{title:"序号",align:"center",width:60},tableLoading:!1,tableData:[],tableOptions:{border:!0,headerCellClassName:"table-header-bg"},pagination:{currentPage:1,pageSize:20,total:0}}}},h={name:"InfoListTable",components:{Bar:function(){return a.e("chunk-2d0bac10").then(a.bind(null,"390d"))},BarCell:function(){return a.e("chunk-2d221e17").then(a.bind(null,"cbdf"))},BarSpace:function(){return a.e("chunk-2d2218de").then(a.bind(null,"cb9b"))},SearchPanel:function(){return a.e("chunk-c808d2de").then(a.bind(null,"978e"))},AreaSelect:function(){return a.e("chunk-1bcfd332").then(a.bind(null,"a92d"))},TableBody:function(){return a.e("chunk-79d593e5").then(a.bind(null,"2c21"))}},mixins:[d],props:{column:{type:String,default:""}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])({tableSize:function(e){return e.settings.tableSize}})),{},{showAreaSelectSearch:function(){return!0},showTimeType:function(){var e=["Fade"];return e.includes(this.column)},showDegree:function(){var e=["Breanch"];return e.includes(this.column)},showFadeType:function(){var e=["Fade"];return e.includes(this.column)}}),created:function(){this.mainRoles=this.$store.getters.mainRoles,this.doLoad()},methods:{doLoad:function(){this.doRefresh()},doRefresh:function(){var e=this;this.mainRoles=this.$store.getters.mainRoles;var t=this.pagination,a=t.currentPage,n=t.pageSize,r=this.searchForm,l=r.province,i=r.time,c=r.degree,u=r.search_key,d={province:""===l?-1:l,dateStart:i.length?i[0]:"",dateEnd:i.length?i[1]:"",kw:u||"",violationType:""===c?-1:c,pageIndex:a,pageSize:n};console.log(d),this.tableLoading=!0,Object(s["d"])(d).then((function(t){if(e.tableLoading=!1,t.success){if(!t.response.data.length)return;var a=t.response.data.map((function(e){return e.ProfessionNames=[e.Work,e.Grade,e.Direction],Object(o["a"])(Object(o["a"])(Object(o["a"])({},e),e.Student),e.ViolationDetail)}));e.tableData=a,e.pagination.total=t.dataCount,e.bannedCount=t.DurNotExamCount}})).catch((function(t){e.tableLoading=!1}))},paginationCurrenChange:function(e){this.pagination.currentPage=e,this.doRefresh()},paginationSizeChange:function(e){this.pagination.pageSize=e,this.doRefresh()},searchFormSubmit:function(){this.pagination.currentPage=1,this.doRefresh()},searchFormReset:function(e){this.searchForm={province:null,time:[],degree:"",search_key:""},this.doRefresh()},searchFormAreaChange:function(e){this.searchForm.province=e.provinceCode},handleDetail:function(e){this.$router.push({name:"IntegrityDetail",params:{id:e.ID}})}}},p=h,m=a("2877"),b=Object(m["a"])(p,l,i,!1,null,null,null),f=b.exports,g={name:"FadeList",components:{InfoListTable:f}},v=g,y=Object(m["a"])(v,n,r,!1,null,null,null);t["default"]=y.exports},f37d:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"h",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"f",(function(){return s})),a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return d}));var n=a("b775");function r(e){return Object(n["a"])({url:"api/BadRecord/GetViolationDiscipline",method:"get",params:e})}function l(e){return Object(n["a"])({url:"api/BadRecord/UpdateViolationDiscipline",method:"post",data:e})}function i(e){return Object(n["a"])({url:"api/BadRecord/GetFalseDeclaration",method:"get",params:e})}function o(e){return Object(n["a"])({url:"api/BadRecord/UpdateFalseDeclaration",method:"post",data:e})}function c(e){return Object(n["a"])({url:"api/BadRecord/GetExamAbsent",method:"get",params:e})}function s(e){return Object(n["a"])({url:"api/BadRecord/UpdateExamAbsent",method:"post",data:e})}function u(e){return Object(n["a"])({url:"api/BadRecord/GetPunishRecordList",method:"get",params:e})}function d(e){return Object(n["a"])({url:"api/BadRecord/GetMissRecordList",method:"get",params:e})}}}]);