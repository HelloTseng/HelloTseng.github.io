(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-162c4695","chunk-24c61ed4"],{2934:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"g",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"n",(function(){return m})),n.d(t,"m",(function(){return h})),n.d(t,"l",(function(){return b})),n.d(t,"d",(function(){return g}));var i=n("b775");function a(e){return Object(i["a"])({url:"api/Sys/CheckUserInfo",method:"get",noNoticeError:!0,params:e})}function s(e){return Object(i["a"])({url:"api/Sys/GetSelRoleList",method:"get",params:e})}function r(e){return Object(i["a"])({url:"api/Sys/GetEnableProfessionnalTitles",method:"get",params:e})}function o(e){return Object(i["a"])({url:"api/Sys/GetEnableExaminerProfessionnalTitles",method:"get",params:e})}function c(e){return Object(i["a"])({url:"api/Global/GetRegionList",method:"get",params:e})}function u(e){return Object(i["a"])({url:"api/Station/GetSelSites",method:"get",params:e})}function l(e){return Object(i["a"])({url:"api/Sys/EnableProfessionList",method:"get",params:e})}function p(e){return Object(i["a"])({url:"api/Examination/LoadQuestionBankOptions",method:"get",params:e})}function d(e){return Object(i["a"])({url:"api/Sys/GetEnableEQLanguages",method:"get",params:e})}function f(e){return Object(i["a"])({url:"api/Station/EnableExamRoomLst",method:"get",params:e})}function m(e){return Object(i["a"])({url:"images/Upload/TempPic",method:"post",data:e,multiple:!0})}function h(e){return Object(i["a"])({url:"images/Upload/TempFile",method:"post",data:e,multiple:!0})}function b(e){return Object(i["a"])({url:"api/images/Upload/NewPic",method:"post",data:e,multiple:!0})}function g(e){return Object(i["a"])({url:"api/Station/EnableExaminerInfos",method:"get",params:e})}},3516:function(e,t,n){"use strict";var i=n("8f46"),a=n.n(i);a.a},"8f46":function(e,t,n){},c7f0:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-upload",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.uploadLoading,expression:"uploadLoading"}],class:{hide:e.checkLimit,shortListType:e.shortListType},attrs:{"http-request":e.uploadRequest,"file-list":e.fileList,action:"#",headers:e.headers,"before-upload":e.handleBeforeUpload,"on-exceed":e.handleExceed,"on-error":e.handleError,"before-remove":e.handleBeforeRemove,"on-remove":e.handleRemove}},"el-upload",e.$attrs,!1),[e.isDrag?n("div",[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v(" 将文件拖到此处，或 "),n("em",[e._v("点击上传")])])]):n("div",[e.isImage?n("i",{staticClass:"el-icon-plus"}):e._e(),e.isImage?e._e():n("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e.isImage?e._e():n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传"+e._s(e.exhibit)+"文件， "),e._t("additional"),e._v(" 且不超过"+e._s(e.sizeTip)+" ")],2)])},a=[],s=(n("99af"),n("7db0"),n("caad"),n("c975"),n("a15b"),n("baa5"),n("d81d"),n("a434"),n("b0c0"),n("a9e3"),n("b64b"),n("ac1f"),n("2532"),n("5319"),n("1276"),n("96cf"),n("1da1")),r=n("2934"),o=n("5f87"),c=n("cf45"),u=n("60fe"),l={props:{fileList:{type:Array,default:null},isHeaders:{type:Boolean,default:!1},limitSize:{type:Number,required:!0},rowIndex:{type:Object,default:null},getFileList:{type:Function,default:function(){}},getFileSize:{type:Function,default:function(){}},shortListType:{type:Boolean,default:!1},beforeBeforeUpload:{type:Function,default:function(){}}},data:function(){return{uploadLoading:!1,exhibit:"",acceptTxt:"",acceptObj:{},types:[],sizeTip:""}},computed:{checkLimit:function(){return!!this.fileList&&(this.$attrs.limit>0&&this.fileList.length>=this.$attrs.limit)},isDrag:function(){return Object.keys(this.$attrs).indexOf("drag")>-1},isImage:function(){return"picture-card"===this.$attrs["list-type"]},headers:function(){return this.isHeaders?{Authorization:Object(o["b"])()}:{}}},created:function(){var e=this.$attrs["accept"],t=e.replace(/\s/g,"").split(",").map((function(e){return e.replace(".","")}));this.types=t,this.exhibit=t.join("/"),this.sizeTip=Object(c["f"])(this.limitSize)},methods:{loadingOpen:function(){this.uploadLoading=!0},loadingClose:function(){this.uploadLoading=!1},hasInclude:function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1),n=u["f"].find((function(e){return e.type.includes(t)}));return this.acceptTxt=n.txt,this.acceptObj=n,this.types.includes(t)},uploadRequest:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i,a,s,o,u,l,p,d,f,m,h,b,g,x,O,y;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.loadingOpen(),n.prev=1,console.log("param",e),i=e.file,a=new FormData,a.append("file",i),"text"!==t.$attrs["list-type"]){n.next=20;break}if("图片"!==t.acceptObj.txt){n.next=13;break}return n.next=10,Object(r["n"])(a);case 10:s=n.sent,n.next=16;break;case 13:return n.next=15,Object(r["m"])(a);case 15:s=n.sent;case 16:t.loadingClose(),s.success&&(o=s.response,u=o.fileName,l=o.weburl,p=o.webupurl,d=o.sourceName,f={name:d,webupurl:p,url:l,fileName:u,type:Object(c["h"])(i.name)},console.log("uploadTempFile fileObj",i),t.fileList.push(f),t.getFileList("success",f,t.fileList,t.rowIndex),t.getFileSize(i.size),t.$notify({title:"成功",message:s.msg,type:"success"})),n.next=25;break;case 20:return n.next=22,Object(r["n"])(a);case 22:m=n.sent,t.loadingClose(),m.success&&(h=m.response,b=h.fileName,g=h.weburl,x=h.webupurl,O=h.sourceName,y={name:O,webupurl:x,url:g,fileName:b,type:Object(c["h"])(i.name)},console.log("uploadTempPic fileObj",i),t.fileList.push(y),t.getFileList("success",y,t.fileList,t.rowIndex),t.getFileSize(i.size),t.$notify({title:"成功",message:"".concat(t.acceptTxt).concat(m.msg),type:"success"}));case 25:n.next=32;break;case 27:n.prev=27,n.t0=n["catch"](1),t.loadingClose(),t.fileList.pop(),t.$message.error("上传文件错误: ".concat(n.t0.message));case 32:case"end":return n.stop()}}),n,null,[[1,27]])})))()},handleBeforeUpload:function(e){return this.hasInclude(e)?e.size>1024*this.limitSize?(this.$message.error("".concat(this.acceptTxt,"大小不得大于").concat(this.sizeTip)),!1):this.beforeBeforeUpload?this.beforeBeforeUpload(e):void 0:(this.$message.error("仅可上传".concat(this.exhibit,"格式文件")),!1)},handleExceed:function(e,t){this.$message.warning("当前限制选择 ".concat(this.$attrs.limit," 个文件，本次选择了 ").concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleError:function(){this.$message.error("".concat(this.acceptTxt,"上传失败，请稍后重试"))},handleBeforeRemove:function(e,t){if(e&&"success"===e.status)return this.$confirm("确定移除 ".concat(e.name,"？"),{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"})},handleRemove:function(e,t){var n=this;this.fileList.map((function(t,i){t.fileName===e.fileName&&(n.fileList.splice(i,1),n.getFileList("remove",t,n.fileList,n.rowIndex))}))}}},p=l,d=(n("3516"),n("2877")),f=Object(d["a"])(p,i,a,!1,null,null,null);t["default"]=f.exports}}]);