(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b38ec8a"],{"1d08":function(t,e,n){},"95fb":function(t,e,n){"use strict";var i=n("1d08"),s=n.n(i);s.a},b78e:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tree",{ref:"tree",staticStyle:{width:"1350px"},attrs:{"node-key":"name",data:t.treeData,props:t.treeProps,"default-checked-keys":t.permitRoutes,"default-expand-all":!0,"show-checkbox":!0},on:{check:t.checkNode},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,s=e.data;return n("el-row",{staticClass:"custom-tree-node",attrs:{flex:"main:justify cross:top","flex-box":"1"}},[n("el-col",{attrs:{span:3}},[t._v(t._s(i.label))]),n("el-col",{attrs:{span:21}},[n("el-checkbox-group",{staticClass:"check-wrap",attrs:{flex:""},model:{value:t.initPermitButtons,callback:function(e){t.initPermitButtons=e},expression:"initPermitButtons"}},t._l(s.buttonList,(function(e){return n("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v(" "+t._s(e.text)+" ")])})),1)],1)],1)}}])})},s=[],r=(n("4de4"),n("4160"),n("caad"),n("c975"),n("d81d"),n("b0c0"),n("b64b"),n("2532"),n("159b"),n("2909")),o={name:"AuthorityTree",props:{permitRoutes:{type:Array,default:null},permitButtons:{type:Array,default:null}},data:function(){return{treeData:[],treeProps:{label:"label",children:"childrenList"},initPermitButtons:[]}},created:function(){var t=this.$store.state.permission.addRoutes,e=this.$store.getters.mainRoles;this.treeData=this.initial(t,e),this.initPermitButtons=this.permitButtons},methods:{initial:function(t,e){var n=this,i=[],s="children",r="meta";return t.forEach((function(t){var o={};t.hidden||(Object.keys(t).forEach((function(i){if("component"!==i)if(i===s){var a=n.initial(t[s],e);o["childrenList"]=a}else if(i===r){if(o[r]=t[r],o["label"]=t[r].title,t[r].buttons){t[r].buttons.forEach((function(e){e.value=t["name"]+"-"+e["name"]}));var u=[];u=t[r].buttons.filter((function(t){return t.permitByLevels.includes(e)})),o["buttonList"]=u}}else o[i]=t[i]})),i.push(o))})),i},checkNode:function(t,e){var n=this.getButtons(t);e.checkedKeys&&e.checkedKeys.includes(t.name)?this.setButtons(n,!0):this.setButtons(n,!1)},getButtons:function(t){var e=[];function n(t){var i=t.buttonList;if(i&&i.length){var s=i.map((function(t){return t.value}));e.push.apply(e,Object(r["a"])(s))}t.childrenList&&t.childrenList.length&&t.childrenList.forEach((function(t){n(t)}))}return n(t),e},setButtons:function(t,e){var n=this;e?t.forEach((function(t){-1===n.initPermitButtons.indexOf(t)&&n.initPermitButtons.push(t)})):this.initPermitButtons=this.initPermitButtons.filter((function(e){return!t.includes(e)}))},getCheckedButtons:function(){return this.initPermitButtons},getCheckedRoutesName:function(){var t=this.$refs.tree.getCheckedNodes(),e=t.map((function(t){return t.name}));return e}}},a=o,u=(n("95fb"),n("2877")),c=Object(u["a"])(a,i,s,!1,null,"5df6e9cd",null);e["default"]=c.exports}}]);