(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4f99"],{"0971":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{top:"30vh",title:e.info.title,visible:e.visible,"before-close":e.close,width:"590px","destroy-on-close":""}},[o("el-form",{ref:"recordForm",attrs:{size:e.tableSize,model:e.recordForm,rules:e.recordFormRules,"label-position":"right","label-width":"80px"}},[o("el-form-item",{attrs:{label:e.info.dateLabel,prop:"date"}},[o("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.recordForm.date,callback:function(t){e.$set(e.recordForm,"date",t)},expression:"recordForm.date"}})],1),o("el-form-item",{attrs:{label:e.info.addressLabel,prop:"address"}},[o("el-input",{attrs:{placeholder:"请输入"},model:{value:e.recordForm.address,callback:function(t){e.$set(e.recordForm,"address",t)},expression:"recordForm.address"}})],1),o("el-form-item",{attrs:{label:e.info.contentLabel,prop:"content"}},[o("el-input",{attrs:{type:"textarea",placeholder:"请输入",autosize:{minRows:3}},model:{value:e.recordForm.content,callback:function(t){e.$set(e.recordForm,"content",t)},expression:"recordForm.content"}})],1),e.showDeduction?o("el-form-item",{attrs:{label:e.info.deductionLabel,prop:"deduction",inline:!0}},[o("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入",type:"number",min:"0",max:"10"},model:{value:e.recordForm.deduction,callback:function(t){e.$set(e.recordForm,"deduction",t)},expression:"recordForm.deduction"}}),e._v("分"),o("span",{staticClass:"text-red"},[e._v(" （剩余"+e._s(e.calcLessScope)+"分）")])],1):e._e()],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",size:e.tableSize},on:{click:e.sure}},[e._v("保存")]),o("el-button",{attrs:{size:e.tableSize},on:{click:e.cancel}},[e._v("取消")])],1)],1)},i=[],a=(o("a9e3"),o("5530")),n=o("2f62"),c={name:"RecordDialog",props:{visible:{type:Boolean,default:!1},category:{type:String,default:""},scope:{type:Number,default:null}},data:function(){return{info:{title:"",dateLabel:"",addressLabel:"",contentLabel:"",deductionLabel:""},recordForm:{date:"",address:"",content:""},recordFormRules:{date:[{required:!0,message:"请选择"}],address:[{required:!0,message:"请输入"}],content:[{required:!0,message:"请选择"}]}}},computed:Object(a["a"])(Object(a["a"])({},Object(n["c"])({tableSize:function(e){return e.settings.tableSize}})),{},{showDeduction:function(){var e=!1,t=this.category;return"Violation"===t&&(e=!0),e},calcLessScope:function(){var e="";try{e=this.scope-(this.recordForm.deduction||0),e=e<0?0:e}catch(t){console.log(t)}return e}}),watch:{visible:function(e){e||this.close()}},created:function(){var e=this.category;switch(e){case"Evaluation":this.initEvaluation();break;case"Training":this.initTraining();break;case"Violation":this.initViolation();break;case"Recognition":this.initRecognition();break}},methods:{initEvaluation:function(){},initTraining:function(){this.info={title:"录入培训记录",dateLabel:"培训时间",addressLabel:"培训地点",contentLabel:"培训内容"}},initViolation:function(){this.info={title:"录入违纪情况",dateLabel:"违纪时间",addressLabel:"违纪地点",contentLabel:"违纪内容",deductionLabel:"扣除分值"},this.recordForm=Object(a["a"])(Object(a["a"])({},this.recordForm),{},{deduction:0}),this.recordFormRules=Object(a["a"])(Object(a["a"])({},this.recordFormRules),{},{deduction:[{required:!0,validator:function(e,t,o){!t||isNaN(t)?o(new Error("请输入正确分值")):o()}}]})},initRecognition:function(){this.info={title:"录入表彰记录",dateLabel:"表彰时间",addressLabel:"表彰地点",contentLabel:"表彰内容"}},close:function(){this.recordForm={},this.$emit("update:visible",!1)},sure:function(){var e=this;this.$refs.recordForm.validate((function(t){t&&e.$emit("sure",e.recordForm)}))},cancel:function(){this.close()}}},s=c,l=o("2877"),d=Object(l["a"])(s,r,i,!1,null,null,null);t["default"]=d.exports}}]);