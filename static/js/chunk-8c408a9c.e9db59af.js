(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c408a9c"],{3756:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"width-600 mb-10",attrs:{flex:"main:center dir:top"}},[a("el-steps",{staticClass:"width-full",attrs:{space:400,active:e.currentStep,"finish-status":"success","align-center":!0,flex:""}},[a("el-step",{attrs:{title:"导入考生信息"}}),a("el-step",{attrs:{title:"导入考生照片"}}),a("el-step",{attrs:{title:"确认考生信息"}})],1)],1),e.currentStep?e._e():a("div",[a("el-form",{staticClass:"width-600",attrs:{"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{label:"选择文件"}},[a("upload-excel",{attrs:{"btn-type":"primary","btn-size":"medium","on-success":e.handleExcelData}})],1),a("el-form-item",[a("dl",{staticClass:"m-0"},[a("dt",{staticClass:"text-black-40"},[e._v("证书编号导入规则：")]),a("dd",{staticClass:"dd"},[e._v(" 1.只能上传 .xlsx, .xls 文件，且不超过 "),a("span",{staticClass:"text-red"},[e._v(e._s(e.sizeTip))])]),a("dd",{staticClass:"dd"},[e._v(" 2.请下载批量导入模板： "),a("a",{staticClass:"text-blue",attrs:{href:"#",target:"_blank"}},[e._v("考生批量导入模板.xls")]),e._v(" ,根据模板中提示进行填写； ")]),a("dd",{staticClass:"dd"},[e._v(" 3.请填写所有的考生，根据模板的提示填写必填项，填写完毕后将文档进行上传，最多支持 "),a("strong",{staticClass:"text-red"},[e._v("20")]),e._v(" 数据同时导入 ")])])])],1),a("el-divider",{staticClass:"mt-0"}),a("p",{staticClass:"mt-0"},[e._v("导入考生发现以下异常，请修正后重新上传")]),a("table-body",{attrs:{"has-padding":!1,loading:e.tableLoading,columns:e.columns,"table-data":e.tableData,options:e.tableOptions,"index-row":e.indexRow}})],1),1===e.currentStep?a("div",[a("el-form",{staticClass:"width-600",attrs:{"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{label:"选择文件"}},[a("upload",{attrs:{"file-list":e.attachment,"list-type":"picture",drag:"",multiple:"",accept:".png, .jpeg, .jpg","limit-size":e.limitImgSize,"get-file-list":e.getFileList,"before-before-upload":e.handlebeforeBeforeUpload}})],1),a("el-form-item",[a("dl",{staticClass:"m-0"},[a("dt",{staticClass:"text-black-40"},[e._v("证书编号导入规则：")]),a("dd",{staticClass:"dd"},[e._v("请将考生照片以考生的身份证号进行命名，系统将对应身份证找到考生信息；")])])])],1),a("el-divider",{staticClass:"mt-0"}),a("p",{staticClass:"mt-0"},[e._v("导入考生发现以下异常，请修正后重新上传")]),a("table-body",{attrs:{"has-padding":!1,loading:e.imageTableLoading,columns:e.imageColumns,"table-data":e.imageTableData,options:e.tableOptions,"index-row":e.indexRow}})],1):e._e(),2===e.currentStep?a("div",[a("p",{staticClass:"mt-0"},[e._v("请确认考生信息及照片准确无误，确认后正式导入系统")]),a("table-body",{ref:"successTable",attrs:{"has-padding":!1,loading:e.successTableLoading,columns:e.successColumns,"table-data":e.successTableData,options:e.tableOptions,"index-row":e.indexRow}},[a("el-table-column",{attrs:{slot:"avatar",label:"头像",width:"100",align:"center"},slot:"avatar",scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("el-avatar",{attrs:{shape:"square",size:50,src:t.avatar}})]}}],null,!1,3691664099)}),a("el-table-column",{attrs:{slot:"operate",label:"操作",width:"160",align:"center",fixed:"right"},slot:"operate",scopedSlots:e._u([{key:"default",fn:function(t){var l=t.$index,n=t.row;return[a("popconfirm-link",{attrs:{title:"确定要删除吗？"},on:{"do-confirm":function(t){return e.handleDelete(l,n)}}})]}}],null,!1,4161690342)})],1),a("div",{attrs:{flex:"main:center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("考生信息无误，确定导入")])],1)],1):e._e()])},n=[],i=(a("d3b7"),a("60fe")),s=a("cf45"),r={name:"BatchEnroll",components:{TableBody:function(){return a.e("chunk-79d593e5").then(a.bind(null,"2c21"))},Upload:function(){return a.e("chunk-162c4695").then(a.bind(null,"c7f0"))},UploadExcel:function(){return Promise.all([a.e("chunk-6e87ca78"),a.e("chunk-cdeb4560")]).then(a.bind(null,"3796"))},PopconfirmLink:function(){return a.e("chunk-f9b7a5e6").then(a.bind(null,"1417"))}},data:function(){return{sizeTip:Object(s["f"])(i["f"][1].limitSize),limitImgSize:i["f"][0].limitSize,currentStep:1,tableLoading:!1,indexRow:{title:"#",align:"center",width:"50px"},columns:[{title:"姓名",key:"Name",align:"center",minWidth:100},{title:"证件号码",key:"Identification",align:"center",minWidth:250},{title:"报错行",key:"RowError",align:"center",minWidth:150},{title:"报错信息",key:"ErrorMsg",align:"center",minWidth:250}],tableData:[],tableOptions:{border:!0,headerCellClassName:"table-header-bg"},imageTableLoading:!1,imageColumns:[{title:"文件名",key:"fileName",align:"center",minWidth:100},{title:"报错信息",key:"errorMsg",align:"center",minWidth:150}],imageTableData:[],successTableLoading:!1,successColumns:[{title:"照片",key:"avatar",slot:"avatar"},{title:"姓名",key:"Name",align:"center",minWidth:100},{title:"性别",key:"sex",align:"center",formatter:function(e,t,a,l){return e.sex?"男":"女"}},{title:"证件号码",key:"papersNumber",headerAlign:"center",minWidth:160},{title:"鉴定工种/等级/方向",key:"ExaminationIdentificationTypes",align:"center",minWidth:200},{title:"证件编号",key:"papersNO",headerAlign:"center",minWidth:100},{title:"复鉴原因",key:"reason",align:"center",minWidth:100}],successTableData:[{sex:0}],attachment:[]}},methods:{handleExcelData:function(e){console.log(e)},handleDelete:function(e,t){},handleSave:function(){var e=this,t=20,a=this.$createElement;this.$msgbox({title:"提示",message:a("p",null,[a("span",null,"导入成功，本次成功导入证书数据"),a("i",{class:"text-red"},"".concat(t)),a("span",null,"条！")]),showCancelButton:!0,confirmButtonText:"查看人员",cancelButtonText:"关闭",beforeClose:function(t,a,l){"confirm"===t?(a.confirmButtonLoading=!0,a.confirmButtonText="执行中...",e.$router.push({name:"CertificateReviewIndex"})):l()}}).then((function(e){console.log("action: "+e)}))},handlebeforeBeforeUpload:function(e){return console.log("handlebeforeBeforeUpload file",e),this.imageTableData=[],this.imageTableData.push({errorMsg:"无法找到该证件号码"}),!1},getFileList:function(e,t,a,l){console.log("----------------------------------------------"),console.log("getFileList",e,t,a,l)}}},c=r,o=(a("a937"),a("2877")),u=Object(o["a"])(c,l,n,!1,null,"7edd24de",null);t["default"]=u.exports},"60fe":function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return r})),a.d(t,"f",(function(){return c}));var l=["image/png","image/jpeg","image/jpg","image/gif"],n="image/png,image/jpeg,image/jpg,image/gif",i=["pdf","doc","docx","ppt","xls","xlsx"],s="".concat("http://172.16.3.14:8008/","images/Upload/TempPic"),r="".concat("http://172.16.3.14:8008/","images/Upload/TempFile"),c=[{txt:"图片",limitSize:800,type:["png","jpeg","jpg","gif"]},{txt:"文件",limitSize:2048,type:["pdf","doc","docx","ppt","pptx","xls","xlsx","wps"]},{txt:"视频",limitSize:51200,type:["mp4"]}]},a937:function(e,t,a){"use strict";var l=a("ec56"),n=a.n(l);n.a},cf45:function(e,t,a){"use strict";a.d(t,"g",(function(){return l})),a.d(t,"i",(function(){return n})),a.d(t,"h",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return d}));a("4160"),a("baa5"),a("b680"),a("ac1f"),a("5319"),a("159b");function l(e,t){return e.forEach((function(e){e[t]&&e[t].length?l(e[t],t):e[t]=null})),e}function n(e){var t="";try{var a=new Date(e.replace(/-/g,"/")),l=new Date,n=l.getMonth()<a.getMonth()||l.getMonth()===a.getMonth()&&l.getDate()<a.getDate();t=l.getFullYear()-a.getFullYear()-(n?1:0)}catch(i){console.warn("--\x3e Error getYearsByDate",i)}return t}function i(e){var t,a=e.substring(e.lastIndexOf(".")+1);switch(a){case"pdf":t=0;break;case"doc":t=1;break;case"docx":t=2;break;case"wps":t=3;break;case"ppt":t=4;break;case"xls":t=5;break;case"xlsx":t=6;break;case"mp4":t=7;break;case"pptx":t=8;break;default:t=-1}return t}var s=[{value:0,label:"党员"},{value:1,label:"群众"},{value:2,label:"其他"}],r=[{value:9,label:"博士研究生"},{value:8,label:"硕士研究生"},{value:7,label:"本科"},{value:6,label:"专科"},{value:5,label:"中技"},{value:4,label:"职校"},{value:3,label:"中专"},{value:2,label:"高中"},{value:1,label:"初中"},{value:0,label:"小学"}],c=[{value:11,label:"博士研究生"},{value:10,label:"硕士研究生"},{value:9,label:"本科"},{value:8,label:"专科"},{value:7,label:"高技"},{value:6,label:"中技"},{value:5,label:"高职"},{value:4,label:"中职"},{value:3,label:"中专"},{value:2,label:"高中"},{value:1,label:"初中"},{value:0,label:"小学"}],o=[{value:2,label:"保密"},{value:1,label:"男"},{value:0,label:"女"}],u=[{value:3,label:"其他证件"},{value:2,label:"护照"},{value:1,label:"港澳台证"},{value:0,label:"身份证"}];function d(e){var t=e;return t=e>1048576?(e/1048576).toFixed(2)+"GB":e>1024?(e/1024).toFixed(2)+"MB":"".concat(e,"KB"),t}},ec56:function(e,t,a){}}]);