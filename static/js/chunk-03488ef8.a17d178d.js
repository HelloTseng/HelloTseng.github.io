(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03488ef8"],{"39f0":function(e,t,n){"use strict";n.d(t,"o",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"r",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"q",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return h})),n.d(t,"s",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"n",(function(){return g})),n.d(t,"m",(function(){return k})),n.d(t,"a",(function(){return x})),n.d(t,"v",(function(){return v})),n.d(t,"p",(function(){return w})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return y})),n.d(t,"u",(function(){return O})),n.d(t,"t",(function(){return C}));var a=n("b775");function i(e){return Object(a["a"])({url:"api/Examination/QuestionBanks",method:"get",params:e})}function r(e){return Object(a["a"])({url:"api/Examination/EnableQuestionBank",method:"get",params:e})}function o(e){return Object(a["a"])({url:"api/Examination/DisableQuestionBank",method:"get",params:e})}function s(e){return Object(a["a"])({url:"api/Examination/SaveQuestionBank",method:"post",data:e})}function c(e){return Object(a["a"])({url:"api/Examination/AddQuestionBank",method:"post",data:e})}function u(e){return Object(a["a"])({url:"api/Examination/LoadQuestionSearchOptions",method:"get",params:e})}function l(e){return Object(a["a"])({url:"api/Examination/TheoryQuestions",method:"get",params:e})}function d(e){return Object(a["a"])({url:"api/Examination/LoadQuestionsModel",method:"get",params:e})}function m(e){return Object(a["a"])({url:"api/Examination/LoadQuestionsClass",method:"get",params:e})}function h(e){return Object(a["a"])({url:"api/Examination/LoadQuestionsBook",method:"get",params:e})}function p(e){return Object(a["a"])({url:"api/Examination/SaveQuestions",method:"post",data:e})}function f(e){return Object(a["a"])({url:"api/Examination/EnableQuestions",method:"get",params:e})}function b(e){return Object(a["a"])({url:"api/Examination/DisableQuestions",method:"get",params:e})}function g(e){return Object(a["a"])({url:"api/Examination/GetPaperRulesList",method:"get",params:e})}function k(e){return Object(a["a"])({url:"api/Examination/GetPaperRules",method:"get",params:e})}function x(e){return Object(a["a"])({url:"api/Examination/AddPaperRules",method:"post",data:e})}function v(e){return Object(a["a"])({url:"api/Examination/UpdatePaperRules",method:"post",data:e})}function w(e){return Object(a["a"])({url:"api/Examination/TheoryQuestionBanks",method:"get",params:e})}function S(e){return Object(a["a"])({url:"api/Examination/EnablePaperRules",method:"post",data:e})}function y(e){return Object(a["a"])({url:"api/Examination/DisablePaperRules",method:"post",data:e})}function O(e){return Object(a["a"])({url:"api/Examination/TheoryQuestionBanksClass",method:"post",data:e})}function C(e){return Object(a["a"])({url:"api/Examination/TheoryQuestionBanksBook",method:"post",data:e})}},9031:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("search-panel",{model:{value:e.searchPanelActive,callback:function(t){e.searchPanelActive=t},expression:"searchPanelActive"}},[n("bar",{attrs:{slot:"title"},slot:"title"},[n("bar-space"),n("bar-cell",[n("el-button",{attrs:{icon:"el-icon-refresh",size:e.tableSize},on:{click:e.doRefresh}},[e._v("刷新")])],1),n("bar-cell",{directives:[{name:"permission",rawName:"v-permission",value:"create",expression:"'create'"}]},[n("el-button",{attrs:{type:"danger",size:e.tableSize},on:{click:e.doCreate}},[e._v("添加组卷规则")])],1)],1),n("el-form",{ref:"searchForm",attrs:{"label-position":"top",inline:"",size:e.tableSize},model:{value:e.searchForm,callback:function(t){e.searchForm=t},expression:"searchForm"}},[n("profession-skill-select",{attrs:{label:"鉴定工种等级方向","first-level":e.searchForm.wordCID,"second-level":e.searchForm.gradeCID,"third-level":e.searchForm.directionID,"show-third-level":!0},on:{selectChange:e.selectChange}}),n("el-form-item",{attrs:{label:"日期范围"}},[n("date-range-picker",{model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1),n("el-form-item",{attrs:{label:"搜索关键字"}},[n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"规则名称",clearable:""},model:{value:e.searchForm.search_key,callback:function(t){e.$set(e.searchForm,"search_key",t)},expression:"searchForm.search_key"}})],1),n("el-form-item",{attrs:{label:"操作"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchFormSubmit}},[e._v("查询")]),n("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.searchFormReset}},[e._v("清空")])],1)],1)],1),n("table-body",{ref:"mkTable",attrs:{loading:e.tableLoading,columns:e.columns,"table-data":e.tableData,options:e.tableOptions,"index-row":e.indexRow,pagination:e.pagination},on:{"pagination-current-change":e.paginationCurrenChange,"pagination-size-change":e.paginationSizeChange}},[n("el-table-column",{attrs:{slot:"Status",label:"状态",align:"center","min-width":"60"},slot:"Status",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.Status?n("span",{staticClass:"text-green"},[e._v("发布")]):n("span",{staticClass:"text-red"},[e._v("停用")])]}}])}),n("el-table-column",{attrs:{slot:"operate",label:"操作","min-width":"100",align:"center",fixed:"right"},slot:"operate",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("el-link",{directives:[{name:"permission",rawName:"v-permission",value:"edit",expression:"'edit'"}],on:{click:function(t){return e.handleEdit(a)}}},[e._v("编辑")]),a.Status?n("switch-status",{directives:[{name:"permission",rawName:"v-permission",value:"disable",expression:"'disable'"}],attrs:{row:a,str:a.PRName,"status-key":"Status","status-str":["发布","停用"]},on:{"on-switch":e.handleSwitch}}):n("switch-status",{directives:[{name:"permission",rawName:"v-permission",value:"enable",expression:"'enable'"}],attrs:{row:a,str:a.PRName,"status-key":"Status","status-str":["发布","停用"]},on:{"on-switch":e.handleSwitch}})]}}])})],1)],1)},i=[],r=(n("d3b7"),n("96cf"),n("1da1")),o=n("5530"),s=n("2f62"),c=n("39f0"),u=n("ed08"),l={data:function(){return{searchPanelActive:!0,searchForm:{wordCID:null,gradeCID:null,directionID:null,time:[],search_key:""},tableLoading:!1,indexRow:{title:"序号",align:"center",width:"50px"},columns:[{title:"规则名称",key:"PRName",headerAlign:"center","min-width":"140px"},{title:"鉴定工种",key:"WordCName",align:"center","min-width":"140px"},{title:"鉴定等级",key:"GradeCName",align:"center","min-width":"100px"},{title:"职业方向",key:"DirectionName",align:"center","min-width":"150px"},{title:"题目数量",key:"Topics",align:"center","min-width":"80px"},{title:"及格分数",key:"PassingGrade",align:"center","min-width":"80px"},{title:"创建人",key:"AdminUserName",align:"center","min-width":"100px"},{title:"创建时间",key:"CreateDate",align:"center",minWidth:140,formatter:function(e,t,n,a){return Object(u["e"])(e.CreateDate,"{y}-{m}-{d} {h}:{i}")}},{title:"状态",key:"Status",slot:"Status"}],tableData:[],tableOptions:{border:!0,headerCellClassName:"table-header-bg"},pagination:{currentPage:1,pageSize:20,total:1}}}},d={name:"TheoryPaper",components:{Bar:function(){return n.e("chunk-2d0bac10").then(n.bind(null,"390d"))},BarCell:function(){return n.e("chunk-2d221e17").then(n.bind(null,"cbdf"))},BarSpace:function(){return n.e("chunk-2d2218de").then(n.bind(null,"cb9b"))},DateRangePicker:function(){return n.e("chunk-2d210a9a").then(n.bind(null,"b99f"))},SearchPanel:function(){return n.e("chunk-c808d2de").then(n.bind(null,"978e"))},TableBody:function(){return n.e("chunk-79d593e5").then(n.bind(null,"2c21"))},ProfessionSkillSelect:function(){return n.e("chunk-74e90192").then(n.bind(null,"7c1d"))},SwitchStatus:function(){return n.e("chunk-2d0e9431").then(n.bind(null,"8d7f"))}},mixins:[l],computed:Object(o["a"])({},Object(s["c"])({tableSize:function(e){return e.settings.tableSize}})),created:function(){this.doLoad()},methods:{selectChange:function(e){this.searchForm=Object(o["a"])(Object(o["a"])({},this.searchForm),{},{wordCID:e.firstLevel,gradeCID:e.secondLevel,directionID:e.thirdLevel})},doRefresh:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r,s,u,l,d,m,h,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.searchForm,a=n.wordCID,i=n.gradeCID,r=n.directionID,s=n.time,u=n.search_key,l=e.pagination,d=l.currentPage,m=l.pageSize,h={wordCID:a||-1,gradeCID:i||-1,directionID:r||-1,sd:s.length?s[0]:"",ed:s.length?s[1]:"",key:u,PageIndex:d,PageSize:m},t.next=5,Object(c["n"])(h);case 5:p=t.sent,p.success&&(console.log("res",p),e.tableData=p.data,e.pagination=Object(o["a"])(Object(o["a"])({},e.pagination),{},{currentPage:p.page,total:p.dataCount}));case 7:case"end":return t.stop()}}),t)})))()},doLoad:function(){this.doRefresh()},doCreate:function(){this.$router.push({name:"CreateTheoryPaper"})},searchFormSubmit:function(){this.pagination.currentPage=1,this.doRefresh()},searchFormReset:function(){this.searchForm={wordCID:null,gradeCID:null,directionID:null,time:[],search_key:""}},handleEdit:function(e){this.$router.push({name:"EditTheoryPaper",params:{id:e.PRID}})},handleSwitch:function(e,t,n,a){var i=this;"confirm"===t?(n.confirmButtonLoading=!0,n.confirmButtonText="提交中...",e.Status?Object(c["c"])({PRIds:[e.PRID]}).then((function(t){a(),e.Status=!e.Status,n.confirmButtonLoading=!1,i.$notify({title:"成功",message:"停用成功",type:"success"})})).catch((function(e){n.confirmButtonLoading=!1,a(e)})):Object(c["d"])({PRIds:[e.PRID]}).then((function(t){a(),e.Status=!e.Status,n.confirmButtonLoading=!1,i.$notify({title:"成功",message:t.msg,type:"success"})})).catch((function(e){n.confirmButtonLoading=!1,a(e)}))):a()},paginationCurrenChange:function(e){this.pagination.currentPage=e,this.doRefresh()},paginationSizeChange:function(e){this.pagination.pageSize=e,this.doRefresh()}}},m=d,h=n("2877"),p=Object(h["a"])(m,a,i,!1,null,null,null);t["default"]=p.exports}}]);