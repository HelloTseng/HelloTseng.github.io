(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e796802","chunk-24c61ed4"],{3516:function(e,t,a){"use strict";var i=a("8f46"),n=a.n(i);n.a},"60fe":function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return r})),a.d(t,"f",(function(){return c}));var i=["image/png","image/jpeg","image/jpg","image/gif"],n="image/png,image/jpeg,image/jpg,image/gif",l=["pdf","doc","docx","ppt","xls","xlsx"],s="".concat("http://172.16.3.14:8008/","images/Upload/TempPic"),r="".concat("http://172.16.3.14:8008/","images/Upload/TempFile"),c=[{txt:"图片",limitSize:800,type:["png","jpeg","jpg","gif"]},{txt:"文件",limitSize:2048,type:["pdf","doc","docx","ppt","pptx","xls","xlsx","wps"]},{txt:"视频",limitSize:51200,type:["mp4"]}]},"8f46":function(e,t,a){},c7f0:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-upload",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.uploadLoading,expression:"uploadLoading"}],class:{hide:e.checkLimit,shortListType:e.shortListType},attrs:{"http-request":e.uploadRequest,"file-list":e.fileList,action:"#",headers:e.headers,"before-upload":e.handleBeforeUpload,"on-exceed":e.handleExceed,"on-error":e.handleError,"before-remove":e.handleBeforeRemove,"on-remove":e.handleRemove}},"el-upload",e.$attrs,!1),[e.isDrag?a("div",[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(" 将文件拖到此处，或 "),a("em",[e._v("点击上传")])])]):a("div",[e.isImage?a("i",{staticClass:"el-icon-plus"}):e._e(),e.isImage?e._e():a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e.isImage?e._e():a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传"+e._s(e.exhibit)+"文件， "),e._t("additional"),e._v(" 且不超过"+e._s(e.sizeTip)+" ")],2)])},n=[],l=(a("99af"),a("7db0"),a("caad"),a("c975"),a("a15b"),a("baa5"),a("d81d"),a("a434"),a("b0c0"),a("a9e3"),a("b64b"),a("ac1f"),a("2532"),a("5319"),a("1276"),a("96cf"),a("1da1")),s=a("2934"),r=a("5f87"),c=a("cf45"),o=a("60fe"),u={props:{fileList:{type:Array,default:null},isHeaders:{type:Boolean,default:!1},limitSize:{type:Number,required:!0},rowIndex:{type:Object,default:null},getFileList:{type:Function,default:function(){}},getFileSize:{type:Function,default:function(){}},shortListType:{type:Boolean,default:!1},beforeBeforeUpload:{type:Function,default:function(){}}},data:function(){return{uploadLoading:!1,exhibit:"",acceptTxt:"",acceptObj:{},types:[],sizeTip:""}},computed:{checkLimit:function(){return!!this.fileList&&(this.$attrs.limit>0&&this.fileList.length>=this.$attrs.limit)},isDrag:function(){return Object.keys(this.$attrs).indexOf("drag")>-1},isImage:function(){return"picture-card"===this.$attrs["list-type"]},headers:function(){return this.isHeaders?{Authorization:Object(r["b"])()}:{}}},created:function(){var e=this.$attrs["accept"],t=e.replace(/\s/g,"").split(",").map((function(e){return e.replace(".","")}));this.types=t,this.exhibit=t.join("/"),this.sizeTip=Object(c["f"])(this.limitSize)},methods:{loadingOpen:function(){this.uploadLoading=!0},loadingClose:function(){this.uploadLoading=!1},hasInclude:function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1),a=o["f"].find((function(e){return e.type.includes(t)}));return this.acceptTxt=a.txt,this.acceptObj=a,this.types.includes(t)},uploadRequest:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var i,n,l,r,o,u,p,d,f,b,h,g,m,v,x,y;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.loadingOpen(),a.prev=1,console.log("param",e),i=e.file,n=new FormData,n.append("file",i),"text"!==t.$attrs["list-type"]){a.next=20;break}if("图片"!==t.acceptObj.txt){a.next=13;break}return a.next=10,Object(s["n"])(n);case 10:l=a.sent,a.next=16;break;case 13:return a.next=15,Object(s["m"])(n);case 15:l=a.sent;case 16:t.loadingClose(),l.success&&(r=l.response,o=r.fileName,u=r.weburl,p=r.webupurl,d=r.sourceName,f={name:d,webupurl:p,url:u,fileName:o,type:Object(c["h"])(i.name)},console.log("uploadTempFile fileObj",i),t.fileList.push(f),t.getFileList("success",f,t.fileList,t.rowIndex),t.getFileSize(i.size),t.$notify({title:"成功",message:l.msg,type:"success"})),a.next=25;break;case 20:return a.next=22,Object(s["n"])(n);case 22:b=a.sent,t.loadingClose(),b.success&&(h=b.response,g=h.fileName,m=h.weburl,v=h.webupurl,x=h.sourceName,y={name:x,webupurl:v,url:m,fileName:g,type:Object(c["h"])(i.name)},console.log("uploadTempPic fileObj",i),t.fileList.push(y),t.getFileList("success",y,t.fileList,t.rowIndex),t.getFileSize(i.size),t.$notify({title:"成功",message:"".concat(t.acceptTxt).concat(b.msg),type:"success"}));case 25:a.next=32;break;case 27:a.prev=27,a.t0=a["catch"](1),t.loadingClose(),t.fileList.pop(),t.$message.error("上传文件错误: ".concat(a.t0.message));case 32:case"end":return a.stop()}}),a,null,[[1,27]])})))()},handleBeforeUpload:function(e){return this.hasInclude(e)?e.size>1024*this.limitSize?(this.$message.error("".concat(this.acceptTxt,"大小不得大于").concat(this.sizeTip)),!1):this.beforeBeforeUpload?this.beforeBeforeUpload(e):void 0:(this.$message.error("仅可上传".concat(this.exhibit,"格式文件")),!1)},handleExceed:function(e,t){this.$message.warning("当前限制选择 ".concat(this.$attrs.limit," 个文件，本次选择了 ").concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleError:function(){this.$message.error("".concat(this.acceptTxt,"上传失败，请稍后重试"))},handleBeforeRemove:function(e,t){if(e&&"success"===e.status)return this.$confirm("确定移除 ".concat(e.name,"？"),{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"})},handleRemove:function(e,t){var a=this;this.fileList.map((function(t,i){t.fileName===e.fileName&&(a.fileList.splice(i,1),a.getFileList("remove",t,a.fileList,a.rowIndex))}))}}},p=u,d=(a("3516"),a("2877")),f=Object(d["a"])(p,i,n,!1,null,null,null);t["default"]=f.exports},cf45:function(e,t,a){"use strict";a.d(t,"g",(function(){return i})),a.d(t,"i",(function(){return n})),a.d(t,"h",(function(){return l})),a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return p}));a("4160"),a("baa5"),a("b680"),a("ac1f"),a("5319"),a("159b");function i(e,t){return e.forEach((function(e){e[t]&&e[t].length?i(e[t],t):e[t]=null})),e}function n(e){var t="";try{var a=new Date(e.replace(/-/g,"/")),i=new Date,n=i.getMonth()<a.getMonth()||i.getMonth()===a.getMonth()&&i.getDate()<a.getDate();t=i.getFullYear()-a.getFullYear()-(n?1:0)}catch(l){console.warn("--\x3e Error getYearsByDate",l)}return t}function l(e){var t,a=e.substring(e.lastIndexOf(".")+1);switch(a){case"pdf":t=0;break;case"doc":t=1;break;case"docx":t=2;break;case"wps":t=3;break;case"ppt":t=4;break;case"xls":t=5;break;case"xlsx":t=6;break;case"mp4":t=7;break;case"pptx":t=8;break;default:t=-1}return t}var s=[{value:0,label:"党员"},{value:1,label:"群众"},{value:2,label:"其他"}],r=[{value:9,label:"博士研究生"},{value:8,label:"硕士研究生"},{value:7,label:"本科"},{value:6,label:"专科"},{value:5,label:"中技"},{value:4,label:"职校"},{value:3,label:"中专"},{value:2,label:"高中"},{value:1,label:"初中"},{value:0,label:"小学"}],c=[{value:11,label:"博士研究生"},{value:10,label:"硕士研究生"},{value:9,label:"本科"},{value:8,label:"专科"},{value:7,label:"高技"},{value:6,label:"中技"},{value:5,label:"高职"},{value:4,label:"中职"},{value:3,label:"中专"},{value:2,label:"高中"},{value:1,label:"初中"},{value:0,label:"小学"}],o=[{value:2,label:"保密"},{value:1,label:"男"},{value:0,label:"女"}],u=[{value:3,label:"其他证件"},{value:2,label:"护照"},{value:1,label:"港澳台证"},{value:0,label:"身份证"}];function p(e){var t=e;return t=e>1048576?(e/1048576).toFixed(2)+"GB":e>1024?(e/1024).toFixed(2)+"MB":"".concat(e,"KB"),t}}}]);