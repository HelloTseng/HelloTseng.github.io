(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21d884"],{d266:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"审核记录",visible:e.visible,"before-close":e.close,width:"75%","destroy-on-close":""}},[a("span",[e._v("鉴定站："+e._s(e.record.SiteName))]),a("table-body",{ref:"reviewList",attrs:{loading:e.tableLoading,columns:e.columns,"table-data":e.tableData,options:e.tableOptions,"has-padding":!1}},[a("el-table-column",{attrs:{slot:"ApprovalStatus",label:"审核状态",align:"center"},slot:"ApprovalStatus",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[0==n.ApprovalStatus?a("span",[e._v("-")]):e._e(),1==n.ApprovalStatus?a("span",{staticClass:"text-green"},[e._v("待审核")]):e._e(),2==n.ApprovalStatus?a("span",[e._v("已审核")]):e._e()]}}])}),a("el-table-column",{attrs:{slot:"RectificationPeriod",label:"整改期限",align:"center",width:"160"},slot:"RectificationPeriod",scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("RectificationPeriod",{attrs:{row:t}})]}}])}),a("el-table-column",{attrs:{slot:"operate",label:"操作",align:"center",fixed:"right"},slot:"operate",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e.showBtnViewReport(n)?a("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.handleEvaluationReport(n)}}},[e._v("查看自评报告")]):e._e(),e.showBtnViewRectify(n)?a("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.handleRectifyReport(n)}}},[e._v("查看整改报告")]):e._e(),e.showBtnReview(n)?a("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.handleReview(n)}}},[e._v("审核")]):e._e()]}}])})],1)],1)},r=[],i=(a("d3b7"),a("5530")),o=a("2f62"),l=a("ed08"),s={name:"ReviewList",components:{TableBody:function(){return a.e("chunk-79d593e5").then(a.bind(null,"2c21"))},RectificationPeriod:function(){return a.e("chunk-2d0e57c0").then(a.bind(null,"954b"))}},props:{record:{type:Object,default:null},tableData:{type:Array,default:null},visible:{type:Boolean,default:!1}},data:function(){return{columns:[{title:"报告类型",key:"ReportType",align:"center",formatter:function(e,t,a,n){var r="";switch(e.ReportType){case 0:r="自评报告";break;case 1:r="整改报告";break}return r}},{title:"上传时间",key:"UploadDate",align:"center",formatter:function(e,t,a,n){return Object(l["e"])(e.UploadDate,"{y}-{m}-{d}")}},{title:"上传人",key:"UploadUName",align:"center","min-width":90},{title:"审核状态",key:"ApprovalStatus",slot:"ApprovalStatus"},{title:"审核时间",key:"ApprovalDate",align:"center",formatter:function(e,t,a,n){return Object(l["e"])(e.ApprovalDate,"{y}-{m}-{d}")||"-"}},{title:"审核人",key:"ApprovalUName",align:"center","min-width":90},{title:"年检结果",key:"YearInspectStatus",align:"center",formatter:function(e){var t="";switch(e.YearInspectStatus){case 0:t="无";break;case 1:t="合格";break;case 2:t="限期整改中";break;case 3:t="限期整改完毕";break;case 4:t="整改合格";break;case 5:t="整改不合格";break;case 6:t="不合";break}return t}},{title:"审核意见",key:"ApprovalContent",align:"center"},{title:"整改期限",key:"RectificationPeriod",slot:"RectificationPeriod"}],tableLoading:!1,tableOptions:{border:!0,headerCellClassName:"table-header-bg"},statusColumn:{}}},computed:Object(i["a"])({},Object(o["c"])({tableSize:function(e){return e.settings.tableSize}})),methods:{showBtnViewReport:function(e){var t=!1;return 2!==e.ApprovalStatus||1!==e.YearInspectStatus&&6!==e.YearInspectStatus||(t=!0),t},showBtnViewRectify:function(e){var t=!1;return 2!==e.ApprovalStatus||4!==e.AssessmentStatus&&5!==e.AssessmentStatus||(t=!0),t},showBtnReview:function(e){var t=!1,a=e.ApprovalStatus,n=e.YearInspectStatus,r=this.mainRoles;return"Guidance"===r&&1===a&&3===n&&(t=!0),t},handleReview:function(e){e.ID=this.record.ID,this.$emit("review",e,"Rectify")},handleEvaluationReport:function(e){this.$emit("showReport",e,"detail")},handleRectifyReport:function(e){this.$emit("showReport",e,"detail")},close:function(){this.$emit("update:visible",!1)}}},c=s,u=a("2877"),p=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=p.exports}}]);