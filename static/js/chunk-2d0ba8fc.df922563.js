(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ba8fc"],{3878:function(e,t,s){"use strict";s.r(t);var l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form-item",{attrs:{label:e.label,prop:e.levelProp}},[s("el-select",{directives:[{name:"show",rawName:"v-show",value:e.showFirstLevel,expression:"showFirstLevel"}],attrs:{placeholder:e.firstLevelPlaceholder,disabled:e.disabled||e.firstLevelDisabled},on:{change:e.changeFirstLevel},model:{value:e.first,callback:function(t){e.first=t},expression:"first"}},e._l(e.firstLevelList,(function(e){return s("el-option",{key:e.NCID,attrs:{label:e.Name,value:e.NCID}})})),1),e.showSecond?s("el-select",{attrs:{loading:e.loadingSecond,placeholder:e.secondLevelPlaceholder,disabled:e.disabled||e.secondLevelDisabled},on:{change:e.changeSecondLevel},model:{value:e.second,callback:function(t){e.second=t},expression:"second"}},e._l(e.secondLevelList,(function(e){return s("el-option",{key:e.NCID,attrs:{label:e.Name,value:e.NCID}})})),1):e._e()],1)},n=[],a=(s("a9e3"),s("b85c")),i=(s("96cf"),s("1da1")),o=s("b775");function r(e){return Object(o["a"])({url:"/vue-admin-template/WebManager/GetNewsCategoryList",method:"get",params:e})}var c={name:"NewsCategorySelect",props:{status:{type:Number,default:1},label:{type:String,default:""},levelProp:{type:String,default:""},firstLevel:{type:Number,default:null},firstLevelPlaceholder:{type:String,default:""},firstLevelDisabled:{type:Boolean,default:!1},showFirstLevel:{type:Boolean,default:!0},secondLevel:{type:Number,default:null},secondLevelPlaceholder:{type:String,default:""},secondLevelDisabled:{type:Boolean,default:!1},showSecondLevel:{type:Boolean,default:!0},hideSecondLevelEmpty:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{loadingSecond:!1,firstLevelList:[],secondLevelList:[],first:null,second:null,hasLoadFirstList:!1}},computed:{showSecond:function(){var e=this.secondLevelList.length>0,t=!this.hideSecondLevelEmpty||e;return this.showSecondLevel&&t}},watch:{firstLevel:{handler:function(e){this.preset()}}},created:function(){this.getData()},methods:{getData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={Status:e.status,PageIndex:1,PageSize:9999},t.next=3,r(s);case 3:l=t.sent,l.success&&(e.hasLoadFirstList=!0,e.firstLevelList=l.data,e.preset());case 5:case"end":return t.stop()}}),t)})))()},preset:function(e,t){var s=this.firstLevel,l=this.secondLevel;this.secondLevelList=[],this.first=e||s,this.changeFirstLevel(this.firstLevel),this.showSecondLevel&&(this.second=t||l,this.changeSecondLevel(this.secondLevel))},getRes:function(){var e={firstLevel:this.first,secondLevel:this.second};return e},changeFirstLevel:function(e){if(this.hasLoadFirstList){if(""!==e){this.second=null,this.loadingSecond=!0;var t,s=Object(a["a"])(this.firstLevelList);try{for(s.s();!(t=s.n()).done;){var l=t.value;if(l.NCID===e){this.secondLevelList=l.chilren,this.loadingSecond=!1;break}}}catch(n){s.e(n)}finally{s.f()}}else this.secondLevelList=[];this.$emit("newsCategoryChange",this.getRes())}},changeSecondLevel:function(e){this.$emit("newsCategoryChange",this.getRes())}}},d=c,h=s("2877"),u=Object(h["a"])(d,l,n,!1,null,null,null);t["default"]=u.exports}}]);