(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29fe77ea"],{2934:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"j",(function(){return n})),r.d(t,"g",(function(){return o})),r.d(t,"e",(function(){return l})),r.d(t,"i",(function(){return s})),r.d(t,"k",(function(){return c})),r.d(t,"f",(function(){return u})),r.d(t,"h",(function(){return d})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return p})),r.d(t,"n",(function(){return f})),r.d(t,"m",(function(){return b})),r.d(t,"l",(function(){return h})),r.d(t,"d",(function(){return g}));var a=r("b775");function i(e){return Object(a["a"])({url:"api/Sys/CheckUserInfo",method:"get",noNoticeError:!0,params:e})}function n(e){return Object(a["a"])({url:"api/Sys/GetSelRoleList",method:"get",params:e})}function o(e){return Object(a["a"])({url:"api/Sys/GetEnableProfessionnalTitles",method:"get",params:e})}function l(e){return Object(a["a"])({url:"api/Sys/GetEnableExaminerProfessionnalTitles",method:"get",params:e})}function s(e){return Object(a["a"])({url:"api/Global/GetRegionList",method:"get",params:e})}function c(e){return Object(a["a"])({url:"api/Station/GetSelSites",method:"get",params:e})}function u(e){return Object(a["a"])({url:"api/Sys/EnableProfessionList",method:"get",params:e})}function d(e){return Object(a["a"])({url:"api/Examination/LoadQuestionBankOptions",method:"get",params:e})}function m(e){return Object(a["a"])({url:"api/Sys/GetEnableEQLanguages",method:"get",params:e})}function p(e){return Object(a["a"])({url:"api/Station/EnableExamRoomLst",method:"get",params:e})}function f(e){return Object(a["a"])({url:"images/Upload/TempPic",method:"post",data:e,multiple:!0})}function b(e){return Object(a["a"])({url:"images/Upload/TempFile",method:"post",data:e,multiple:!0})}function h(e){return Object(a["a"])({url:"api/images/Upload/NewPic",method:"post",data:e,multiple:!0})}function g(e){return Object(a["a"])({url:"api/Station/EnableExaminerInfos",method:"get",params:e})}},"37d6":function(e,t,r){"use strict";r.d(t,"o",(function(){return i})),r.d(t,"n",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return s})),r.d(t,"f",(function(){return c})),r.d(t,"z",(function(){return u})),r.d(t,"r",(function(){return d})),r.d(t,"l",(function(){return m})),r.d(t,"y",(function(){return p})),r.d(t,"v",(function(){return f})),r.d(t,"h",(function(){return b})),r.d(t,"m",(function(){return h})),r.d(t,"k",(function(){return g})),r.d(t,"w",(function(){return v})),r.d(t,"u",(function(){return k})),r.d(t,"g",(function(){return y})),r.d(t,"t",(function(){return x})),r.d(t,"d",(function(){return E})),r.d(t,"j",(function(){return F})),r.d(t,"i",(function(){return D})),r.d(t,"q",(function(){return S})),r.d(t,"p",(function(){return w})),r.d(t,"x",(function(){return C})),r.d(t,"s",(function(){return j})),r.d(t,"b",(function(){return O}));var a=r("b775");function i(e){return Object(a["a"])({url:"api/ExamWork/GetSupervisonrList",method:"get",params:e})}function n(e){return Object(a["a"])({url:"api/ExamWork/GetSupervisor",method:"get",params:e})}function o(e){return Object(a["a"])({url:"api/Sys/CheckUserInfo",method:"get",noNoticeError:!0,params:e})}function l(e){return Object(a["a"])({url:"api/ExamWork/AddSupervisor",method:"post",data:e})}function s(e){return Object(a["a"])({url:"api/ExamWork/DisableSupervisorInfo",method:"get",params:e})}function c(e){return Object(a["a"])({url:"api/ExamWork/EnableSupervisorInfo",method:"get",params:e})}function u(e){return Object(a["a"])({url:"api/ExamWork/UpdateSupervisor",method:"post",data:e})}function d(e){return Object(a["a"])({url:"api/ExamWork/TheoryExaminationPlans",method:"get",params:e})}function m(e){return Object(a["a"])({url:"api/ExamWork/LoadTheoryExaminationPlan",method:"get",params:e})}function p(e){return Object(a["a"])({url:"api/ExamWork/SaveTheoryExaminationPlan",method:"post",data:e})}function f(e){return Object(a["a"])({url:"api/ExamWork/SaveBatchTheoryPlan",method:"post",useJSON:!0,data:e})}function b(e){return Object(a["a"])({url:"api/ExamWork/GenerateBatchTheoryPlan",method:"post",data:e})}function h(e){return Object(a["a"])({url:"api/ExamWork/SkillsExaminationPlans",method:"get",params:e})}function g(e){return Object(a["a"])({url:"api/ExamWork/LoadSkillsExaminationPlan",method:"get",params:e})}function v(e){return Object(a["a"])({url:"api/ExamWork/SaveSkillsExaminationPlan",method:"post",data:e})}function k(e){return Object(a["a"])({url:"api/ExamWork/SaveBatchSkillsPlan",method:"post",useJSON:!0,data:e})}function y(e){return Object(a["a"])({url:"api/ExamWork/GenerateBatchSkillsPlan",method:"post",data:e})}function x(e){return Object(a["a"])({url:"api/ExamWork/ReleaseExamPlans",method:"post",data:e})}function E(e){return Object(a["a"])({url:"api/ExamWork/DeleteExamPlans",method:"post",data:e})}function F(e){return Object(a["a"])({url:"api/ExamWork/GetExamPlanOrderedDetail",method:"get",params:e})}function D(e){return Object(a["a"])({url:"api/ExamWork/GetExamPlanForSupervisionPlan",method:"get",params:e})}function S(e){return Object(a["a"])({url:"api/ExamWork/GetSupervissionPlanList",method:"get",params:e})}function w(e){return Object(a["a"])({url:"api/ExamWork/GetSupervissionPlanDetail",method:"get",params:e})}function C(e){return Object(a["a"])({url:"api/ExamWork/SaveSupervissionPlan",method:"post",data:e})}function j(e){return Object(a["a"])({url:"api/ExamWork/PublishSupervissionPlan",method:"post",useJSON:!0,data:e})}function O(e){return Object(a["a"])({url:"api/ExamWork/CancelSupervissionPlan",method:"post",useJSON:!0,data:e})}},"60fe":function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return l})),r.d(t,"f",(function(){return s}));var a=["image/png","image/jpeg","image/jpg","image/gif"],i="image/png,image/jpeg,image/jpg,image/gif",n=["pdf","doc","docx","ppt","xls","xlsx"],o="".concat("http://172.16.3.14:8008/","images/Upload/TempPic"),l="".concat("http://172.16.3.14:8008/","images/Upload/TempFile"),s=[{txt:"图片",limitSize:800,type:["png","jpeg","jpg","gif"]},{txt:"文件",limitSize:2048,type:["pdf","doc","docx","ppt","pptx","xls","xlsx","wps"]},{txt:"视频",limitSize:51200,type:["mp4"]}]},"801b":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"supervisor-detail"},[r("el-form",{ref:"elForm",attrs:{model:e.elForm,rules:e.elFormRules,"label-position":"right","label-width":"120px"}},[r("sticky",{attrs:{"z-index":10,"class-name":"sub-navbar"}},[r("bar-space"),r("bar-cell",[r("el-button",{on:{click:e.goBack}},[e._v("返回")])],1),r("bar-cell",[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")])],1)],1),r("div",{staticClass:"app-container"},[r("el-row",[r("el-col",{attrs:{lg:18}},[r("el-row",[r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"身份证号",prop:"idNumber"}},[e.isEdit?r("span",[e._v(e._s(e.elForm.idNumber))]):r("el-input",{attrs:{placeholder:"请输入身份证号"},on:{blur:e.handleIDNumberBlur},model:{value:e.elForm.idNumber,callback:function(t){e.$set(e.elForm,"idNumber",t)},expression:"elForm.idNumber"}})],1)],1),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[e.isEdit?r("span",[e._v(e._s(e.elForm.name))]):r("el-input",{attrs:{placeholder:"请输入姓名",disabled:!e.canEditBase},model:{value:e.elForm.name,callback:function(t){e.$set(e.elForm,"name",t)},expression:"elForm.name"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"民族",prop:"nation"}},[r("el-input",{attrs:{placeholder:"请输入民族"},model:{value:e.elForm.nation,callback:function(t){e.$set(e.elForm,"nation",t)},expression:"elForm.nation"}})],1)],1),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"性别",prop:"gender"}},[e.isEdit?r("span",[e._v(e._s(e.elForm.gender?"男":"女"))]):r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.elForm.gender,callback:function(t){e.$set(e.elForm,"gender",t)},expression:"elForm.gender"}},[r("el-option",{attrs:{label:"女",value:0}}),r("el-option",{attrs:{label:"男",value:1}})],1)],1)],1),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"出生日期",prop:"birthday"}},[e.isEdit?r("span",[e._v(e._s(e.elForm.birthday))]):r("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.elForm.birthday,callback:function(t){e.$set(e.elForm,"birthday",t)},expression:"elForm.birthday"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"政治面貌",prop:"political"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.elForm.political,callback:function(t){e.$set(e.elForm,"political",t)},expression:"elForm.political"}},e._l(e.politicalOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"健康情况",prop:"health"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.elForm.health,callback:function(t){e.$set(e.elForm,"health",t)},expression:"elForm.health"}},e._l(e.healthOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"文化程度",prop:"education"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.elForm.education,callback:function(t){e.$set(e.elForm,"education",t)},expression:"elForm.education"}},e._l(e.educationOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"联系号码",prop:"mobile"}},[e.isEdit?r("span",[e._v(e._s(e.elForm.mobile))]):r("el-input",{attrs:{placeholder:"请输入",disabled:!e.canEditBase},model:{value:e.elForm.mobile,callback:function(t){e.$set(e.elForm,"mobile",t)},expression:"elForm.mobile"}})],1)],1),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[e.isEdit?r("span",[e._v(e._s(e.elForm.email))]):r("el-input",{attrs:{placeholder:"请输入",disabled:!e.canEditBase},model:{value:e.elForm.email,callback:function(t){e.$set(e.elForm,"email",t)},expression:"elForm.email"}})],1)],1)],1)],1),r("el-col",{attrs:{lg:4}},[r("el-form-item",{attrs:{label:"照片",prop:"avatar"}},[r("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.uploadLoading,expression:"uploadLoading"}],staticClass:"avatar-uploader",attrs:{"element-loading-text":"照片上传中",action:e.UploadTempPicUrl,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUpload}},[e.elForm.avatar?r("img",{staticClass:"avatar",attrs:{src:e.elForm.avatar}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),r("el-divider"),r("el-row",[r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"职称",prop:"jobTitle"}},[r("span",[e._v(e._s(e.elForm.jobTitle))])])],1),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"从事职业",prop:"occupation"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.elForm.occupation,callback:function(t){e.$set(e.elForm,"occupation",t)},expression:"elForm.occupation"}})],1)],1),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"从事年限",prop:"jobYears"}},[r("el-input",{attrs:{placeholder:"请输入",type:"number",min:"0"},model:{value:e.elForm.jobYears,callback:function(t){e.$set(e.elForm,"jobYears",t)},expression:"elForm.jobYears"}},[r("template",{slot:"append"},[e._v("年")])],2)],1)],1)],1),r("el-row",[r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"证书名称",prop:"certificateName"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.elForm.certificateName,callback:function(t){e.$set(e.elForm,"certificateName",t)},expression:"elForm.certificateName"}})],1)],1),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"证书编号",prop:"certificateNo"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.elForm.certificateNo,callback:function(t){e.$set(e.elForm,"certificateNo",t)},expression:"elForm.certificateNo"}})],1)],1),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"有效期限",prop:"validPeriodDate"}},[r("el-date-picker",{attrs:{type:"monthrange","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份","value-format":"yyyy-MM"},model:{value:e.elForm.validPeriodDate,callback:function(t){e.$set(e.elForm,"validPeriodDate",t)},expression:"elForm.validPeriodDate"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"工作单位",prop:"unit"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.elForm.unit,callback:function(t){e.$set(e.elForm,"unit",t)},expression:"elForm.unit"}})],1)],1),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"统一信用代码"}},[r("el-input",{attrs:{placeholder:"请输入",disabled:!e.canEditUnitCode},model:{value:e.elForm.organizationCode,callback:function(t){e.$set(e.elForm,"organizationCode",t)},expression:"elForm.organizationCode"}})],1)],1),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"工作地区",prop:"workArea"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.elForm.workArea,callback:function(t){e.$set(e.elForm,"workArea",t)},expression:"elForm.workArea"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{md:16}},[r("area-select",{ref:"areaSelect",attrs:{"province-code":e.elForm.province,"city-code":e.elForm.city,"area-label":"通信地址",disabled:!e.canEditUnitCode,"area-prop":"city"},on:{areaSelectChange:e.changeArea},scopedSlots:e._u([{key:"more",fn:function(){return[r("div",{staticStyle:{width:"50%",display:"inline-block"}},[r("el-form-item",{attrs:{prop:"address"}},[r("el-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.elForm.address,callback:function(t){e.$set(e.elForm,"address",t)},expression:"elForm.address"}})],1)],1)]},proxy:!0}])})],1)],1),r("el-row",[r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"邮政编码",prop:"postalCode"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.elForm.postalCode,callback:function(t){e.$set(e.elForm,"postalCode",t)},expression:"elForm.postalCode"}})],1)],1)],1),r("el-divider"),r("el-form-item",{attrs:{label:"工作经历",prop:"workExperience"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.elForm.workExperience,size:e.tableSize}},[r("el-table-column",{attrs:{label:"开始日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-date-picker",{attrs:{type:"month","value-format":"yyyy-MM-dd",placeholder:"请选择",disabled:!t.row.canEdit,"picker-options":e.pickerOptionsStart},on:{change:e.changeEnd},model:{value:t.row.beginDate,callback:function(r){e.$set(t.row,"beginDate",r)},expression:"scope.row.beginDate"}})]}}])}),r("el-table-column",{attrs:{label:"结束日期"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-date-picker",{attrs:{type:"month","value-format":"yyyy-MM-dd",placeholder:a.beginDate?"请先设置开始时间":"请选择",disabled:a.beginDate&&!a.canEdit,"picker-options":e.pickerOptionsEnd},on:{change:e.changeStart},model:{value:a.endDate,callback:function(t){e.$set(a,"endDate",t)},expression:"row.endDate"}})]}}])}),r("el-table-column",{attrs:{label:"工作单位"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{attrs:{placeholder:"请输入",disabled:!t.row.canEdit},model:{value:t.row.company,callback:function(r){e.$set(t.row,"company",r)},expression:"scope.row.company"}})]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.canEdit?r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.handleExperienceSave(t.$index,t.row)}}},[e._v("保存")]):e._e(),t.row.canEdit?e._e():r("el-button",{attrs:{size:"mini"},on:{click:function(r){return e.handleExperienceEdit(t.$index,t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleExperienceDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),r("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",size:"mini"},on:{click:e.handleWorkExperienceAdd}},[e._v("添加工作经历")])],1),r("el-form-item",{attrs:{label:"个人成绩",prop:"grades"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入",rows:3},model:{value:e.elForm.grades,callback:function(t){e.$set(e.elForm,"grades",t)},expression:"elForm.grades"}})],1),e.isEdit?r("el-divider"):e._e(),r("el-form-item",{attrs:{label:"系统角色",prop:"character"}},[r("el-checkbox-group",{on:{change:e.handleChangeCharacterCheckbox},model:{value:e.elForm.character,callback:function(t){e.$set(e.elForm,"character",t)},expression:"elForm.character"}},e._l(e.characterCheckbox,(function(t){return r("el-checkbox",{key:t.RoleID,attrs:{label:t.label,border:""},model:{value:t.RoleID,callback:function(r){e.$set(t,"RoleID",r)},expression:"item.RoleID"}})})),1)],1),r("el-form-item",{attrs:{label:"状态",prop:"status"}},[r("el-radio-group",{model:{value:e.elForm.status,callback:function(t){e.$set(e.elForm,"status",t)},expression:"elForm.status"}},[r("el-radio",{attrs:{label:!0}},[e._v("启用")]),r("el-radio",{attrs:{label:!1}},[e._v("停用")])],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")]),r("el-button",{on:{click:e.goBack}},[e._v("返回")])],1)],1)],1),r("identity-confirmation",{attrs:{"user-confirm-visible":e.userConfirmVisible,"user-confirm":e.userConfirm},on:{userConfirmSure:e.userConfirmSure,userConfirmClose:e.userConfirmClose,userConfirmCancle:e.userConfirmCancel}})],1)},i=[],n=(r("4160"),r("caad"),r("d81d"),r("a434"),r("b0c0"),r("d3b7"),r("ac1f"),r("2532"),r("3ca3"),r("5319"),r("159b"),r("ddb0"),r("2b3d"),r("3835")),o=(r("96cf"),r("1da1")),l=r("5530"),s=r("de26"),c=r("2f62"),u=r("2934"),d=r("37d6"),m=r("60fe"),p=r("0a4f"),f={name:"Detail",components:{BarCell:function(){return r.e("chunk-2d221e17").then(r.bind(null,"cbdf"))},BarSpace:function(){return r.e("chunk-2d2218de").then(r.bind(null,"cb9b"))},Sticky:function(){return r.e("chunk-2d210590").then(r.bind(null,"b804"))},IdentityConfirmation:function(){return r.e("chunk-2d0c9758").then(r.bind(null,"58dc"))},AreaSelect:function(){return r.e("chunk-2d209560").then(r.bind(null,"a92d"))}},mixins:[s["a"]],props:{isEdit:{type:Boolean,default:!1}},computed:Object(l["a"])({},Object(c["c"])({tableSize:function(e){return e.settings.tableSize}})),created:function(){var e=this;this.UploadTempPicUrl=m["b"];var t=this.$route.params&&this.$route.params.id;function r(){return a.apply(this,arguments)}function a(){return a=Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.handleGetSelRoleList();case 2:if(!e.isEdit){r.next=5;break}return r.next=5,e.handleGetSupervisor(t);case 5:case"end":return r.stop()}}),r)}))),a.apply(this,arguments)}e.adminUserID=this.$route.params&&this.$route.params.adminUserID||0,r()},methods:{handleGetSelRoleList:function(){var e=this;return new Promise((function(t,r){Object(u["j"])({SelMainRole:2}).then((function(r){r.response.forEach((function(r){e.characterCheckbox.push({roleID:r.RoleID,label:r.RoleName,checked:!1}),t()}))})).catch((function(t){e.$message({message:t,type:"error"}),r()}))}))},handleGetSupervisor:function(e){var t=this;return new Promise((function(r,a){Object(d["n"])({supervisorId:e}).then((function(e){var a=e.response,i=a.UserName,n=a.IDCardNum,o=a.Nation,l=a.UserSex,s=a.BirthDate,c=a.PoliticsStatus,u=a.Health,d=a.Culture,m=a.MobilePhone,f=a.Email,b=a.Profession,h=a.WorkYears,g=a.CertificateName,v=a.CertificateNo,k=a.ValidityPeriodStarDate,y=a.ValidityPeriodEndDate,x=a.WorkUnit,E=a.OrganizationCode,F=a.WorkArea,D=a.Province,S=a.City,w=a.Address,C=a.PostalCode,j=a.Result,O=a.RoleIDs,I=a.Status,N=a.workHistoys,P=a.HeadImg,$=s.substr(0,10),U=k,_=y,T=[k.substr(0,7),y.substr(0,7)],B=[];t.characterCheckbox.forEach((function(e){O.includes(e.roleID)&&B.push(e.label)}));var W=N.map((function(e){return{beginDate:e.BeginDate.substr(0,10),endDate:e.EndDate.substr(0,10),company:e.Company,canEdit:!1,ID:e.ID,IsDelete:!1,SupervisorInfoID:e.SupervisorInfoID}}));t.workExperienceID=N[0].ID,t.workExperienceSupervisorInfoID=N[0].SupervisorInfoID,t.elForm={name:i,idNumber:n,nation:o,gender:l,birthday:$,political:""+c,health:""+u,education:""+d,mobile:m,email:f,jobTitle:"质量督导员",occupation:b,jobYears:h,certificateName:g,certificateNo:v,validPeriodDate:T,validityBegin:U,validityEnd:_,unit:x,organizationCode:E,workArea:F,province:D,city:S,address:w,postalCode:C,workExperience:W,grades:j,character:B,status:0!==I,avatar:Object(p["a"])().ResourcesURL+P},t.uploadTempUrl=P,r()})).catch((function(e){t.$message({message:e,type:"error"}),a()}))}))},isCardNo:function(e){var t=/(^\d{15}$)|(^\d{17}(\d|X|x)$)/;return!1!==t.test(e)},handleIDNumberBlur:function(e){var t=this,r=e.target.value;this.isCardNo(r)&&(this.calcIDNumber(r),Object(d["c"])({IDCardNum:r,type:0}).then((function(e){if(e.response){var r=e.response;t.userConfirm={name:r.UserName,mobile:r.MobilePhone,idCard:r.IDCardNum,email:r.Email},t.baseUserInfo={name:r.UserName,mobile:r.MobilePhone,idNumber:r.IDCardNum,email:r.Email},t.adminUserID=r.AdminUserID,t.userConfirmVisible=!0}})))},calcIDNumber:function(e){var t=null,r="";18===e.length&&(t=e.substr(16,17),r=e.substr(6,8)),15===e.length&&(t=e.substr(13,14),r="19"+e.substr(6,6)),t=t%2===0?0:1,this.elForm.gender=t,this.elForm.birthday=r.replace(/(.{4})(.{2})/,"$1-$2-")},userConfirmClose:function(){this.userConfirm={},this.elForm.idNumber="",this.elForm.name="",this.elForm.mobile="",this.elForm.email="",this.canEditBase=!0,this.userConfirmVisible=!1},userConfirmCancel:function(){this.userConfirmClose()},userConfirmSure:function(e){this.userConfirm={},this.canEditBase=!1,this.elForm=Object.assign(this.elForm,this.baseUserInfo),this.userConfirmVisible=!1},handleAvatarSuccess:function(e,t){this.elForm.avatar=URL.createObjectURL(t.raw),this.uploadTempUrl=e.response.webupurl,this.uploadLoading=!1,this.$notify({title:"成功",message:"照片上传成功",type:"success"})},handleAvatarError:function(){this.uploadLoading=!1,this.$message.error("照片上传失败，请稍后重试")},beforeAvatarUpload:function(e){this.uploadLoading=!0;var t="image/jpeg"===e.type,r=e.size/1024/1024<2;return t||(this.uploadLoading=!1,this.$message.error("上传头像图片只能是 JPG 格式!")),r||(this.uploadLoading=!1,this.$message.error("上传头像图片大小不能超过 2MB!")),t&&r},handleExperienceSave:function(e,t){var r=t.beginDate&&t.endDate&&t.company;if(r){var a=new Date(t.beginDate).getTime()>new Date(t.endDate).getTime();a?this.$message.error("开始时间不能大于结束时间！"):t.canEdit=!1}else this.$message.error("请补充完整工作经历！")},handleExperienceEdit:function(e,t){t.canEdit=!0},handleExperienceDelete:function(e,t){var r=this;this.$confirm("此操作将删除该工作经历, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){r.elForm.workExperience.splice(e,1),r.$notify({title:"成功",message:"已删除",type:"success"})}))},handleWorkExperienceAdd:function(){this.elForm.workExperience.push({beginDate:"",endDate:"",company:"",canEdit:!0})},goBack:function(){this.$router.go(-1)},submitForm:function(){var e=this,t=this.elForm,r=t.idNumber,a=t.name,i=t.nation,o=t.gender,l=t.birthday,s=t.political,c=t.health,u=t.education,m=t.mobile,p=t.email,f=t.occupation,b=t.jobYears,h=t.certificateName,g=t.certificateNo,v=t.validPeriodDate,k=t.unit,y=t.organizationCode,x=t.workArea,E=t.province,F=t.city,D=t.address,S=t.postalCode,w=t.workExperience,C=t.grades,j=t.status,O=Object(n["a"])(v,2),I=O[0],N=O[1];this.elForm.validityBegin=I+"-01",this.elForm.validityEnd=N+"-01";var P=this.elForm,$=P.validityBegin,U=P.validityEnd,_=this.characterCheckbox.map((function(e){return e.roleID}));if(this.isEdit){var T=[];w.forEach((function(t){t.canEdit||T.push({ID:e.workExperienceID,SupervisorInfoID:e.workExperienceSupervisorInfoID,BeginDate:t.beginDate,EndDate:t.endDate,Company:t.company,IsDelete:!1})})),this.workExperienceForUpdate=T}this.$refs.elForm.validate((function(t){if(t){var n={ID:e.$route.params.id,adminUID:e.adminUserID,idCardNum:r,userName:a,nation:i,userSex:o,birthDate:l,politicsStatus:s,health:c,culture:u,mobilePhone:m,email:p,profession:f,workYears:b,certificateName:h,certificateNo:g,ValidityPeriodStarDate:$,ValidityPeriodEndDate:U,workUnit:k,organizationCode:y,workArea:x,province:E,city:F,address:D,postalCode:S,workHistoys:e.isEdit?e.workExperienceForUpdate:w,result:C,RoleIDs:_,Status:j,headImg:e.uploadTempUrl};e.isEdit?Object(d["z"])(n).then((function(t){e.$notify({title:"成功",message:"恭喜您，修改成功",type:"success"}),e.goBack()})):Object(d["a"])(n).then((function(t){e.$notify({title:"成功",message:"恭喜您，提交成功",type:"success"}),e.goBack()}))}else e.$message({message:"请填写必填项",type:"error"})}))},changeArea:function(e){this.elForm.province=e.provinceCode,this.elForm.city=e.cityCode},handleChangeCharacterCheckbox:function(e){this.characterCheckbox.forEach((function(t){t.checked=!!e.includes(t.label)}))},changeStart:function(e){this.pickerOptionsStart=e?Object.assign({},this.pickerOptionsStart,{disabledDate:function(t){return t.getTime()>new Date(e).getTime()}}):{disabledDate:{}}},changeEnd:function(e){this.pickerOptionsEnd=e?Object.assign({},this.pickerOptionsEnd,{disabledDate:function(t){return t.getTime()<new Date(e).getTime()}}):{disabledDate:{}}}}},b=f,h=(r("afab"),r("2877")),g=Object(h["a"])(b,a,i,!1,null,null,null);t["a"]=g.exports},"910b":function(e,t,r){},afab:function(e,t,r){"use strict";var a=r("910b"),i=r.n(a);i.a},de26:function(e,t,r){"use strict";var a=r("61f7");t["a"]={data:function(){return{role:"",searchPanelActive:!0,searchForm:{province:null,status:"-1",search_key:""},tableLoading:!1,columns:[{title:"所在省份",key:"ReginName",align:"center","min-width":100},{title:"姓名",key:"UserName",align:"center","min-width":100},{title:"性别",key:"UserSex",align:"center","min-width":50,formatter:function(e,t,r,a){var i="";switch(e.UserSex){case 0:i="女";break;case 1:i="男";break}return i}},{title:"证件号码",key:"IDCardNum",align:"center","min-width":150},{title:"联系号码",key:"MobilePhone",align:"center","min-width":100},{title:"证书编号",key:"CertificateNo",align:"center","min-width":100},{title:"有效期限",key:"ValidityPeriod",align:"center","min-width":150},{title:"从事职业",key:"Profession",align:"center","min-width":150},{title:"从事年限",key:"WorkYears",align:"center","min-width":100},{title:"状态",key:"Status",slot:"Status"}],tableData:[],selectionRow:{align:"center"},tableOptions:{border:!0,headerCellClassName:"table-header-bg"},pagination:{currentPage:1,pageSize:10,total:0},userFillCodeVisible:!1,userFillCodeUrl:"",columnsHistory:[{title:"督导省份",key:"province",align:"center"},{title:"督导方式",key:"method",align:"center"},{title:"督导单位",key:"unit",align:"center"},{title:"考试名称",key:"examName",align:"center"},{title:"考试时间",key:"examTime",align:"center"},{title:"考点",key:"site",align:"center"},{title:"考场",key:"room",align:"center"},{title:"地址",key:"address",align:"center"},{title:"考试人数",key:"numberOfPeople",align:"center"}],tableHistoryData:[],tableHistoryVisiable:!1,elForm:{name:"",idNumber:"",nation:"",gender:"",birthday:"",political:"",health:"",education:"",mobile:"",email:"",jobTitle:"质量督导员",occupation:"",jobYears:"",certificateName:"",certificateNo:"",validPeriodDate:[],validityBegin:"",validityEnd:"",unit:"",organizationCode:"",workArea:"",province:null,city:null,address:"",postalCode:"",workExperience:[],grades:"",character:[],status:!0,avatar:""},elFormRules:{name:[{required:!0,message:"请输入",trigger:"change"}],idNumber:[{required:!0,message:"请输入正确的身份证号",trigger:"change",validator:function(e,t,r){a["e"](t)?r():r(new Error("请输入正确身份证号"))}}],nation:[{required:!0,message:"请输入",trigger:"change"}],gender:[{required:!0,message:"请选择",trigger:"change"}],birthday:[{required:!0,message:"请输入",trigger:"change"}],political:[{required:!0,message:"请选择",trigger:"change"}],health:[{required:!0,message:"请选择",trigger:"change"}],education:[{required:!0,message:"请选择",trigger:"change"}],mobile:[{required:!0,message:"请输入",trigger:"change"}],email:[{required:!0,message:"请输入",trigger:"change"}],avatar:[{required:!0,message:"请上传图片"}],occupation:[{required:!0,message:"请输入",trigger:"change"}],jobYears:[{required:!0,message:"请输入",trigger:"change"}],certificateName:[{required:!0,message:"请输入",trigger:"change"}],certificateNo:[{required:!0,message:"请输入",trigger:"change"}],validPeriodDate:[{required:!0,message:"请选择",trigger:"change"}],unit:[{required:!0,message:"请输入",trigger:"change"}],workArea:[{required:!0,message:"请输入",trigger:"change"}],city:[{required:!0,message:"请选择省市",trigger:"change"}],address:[{required:!0,message:"请输入",trigger:"change"}],postalCode:[{required:!0,message:"请输入",trigger:"change"}],workExperience:[{type:"array",required:!0,message:"请至少添加一个工作经历",trigger:"change"}],grades:[{required:!0,message:"请输入",trigger:"change"}],character:[{type:"array",required:!0,message:"请至少选择一个系统角色",trigger:"change"}],status:[{required:!0,message:"请选择",trigger:"change"}]},pickerOptionsStart:{},pickerOptionsEnd:{},userConfirmVisible:!1,userConfirm:{level:"",unit:"",name:"",mobile:"",idCard:"",jobTitle:""},canEditBase:!0,canEditUnitCode:!0,uploadLoading:!1,politicalOptions:[{value:"0",label:"党员"},{value:"1",label:"群众"},{value:"2",label:"其他"}],healthOptions:[{value:"0",label:"良好"},{value:"1",label:"一般"},{value:"2",label:"很好"},{value:"3",label:"差"}],educationOptions:[{value:"0",label:"小学"},{value:"1",label:"初中"},{value:"2",label:"高中"},{value:"3",label:"中专"},{value:"4",label:"职校"},{value:"5",label:"中技"},{value:"6",label:"专科"},{value:"7",label:"本科"},{value:"8",label:"硕士研究生"},{value:"9",label:"博士研究生"}],characterCheckbox:[],baseUserInfo:{},UploadTempPicUrl:"",uploadTempUrl:"",adminUserID:0,workExperienceForUpdate:[],workExperienceID:0,workExperienceSupervisorInfoID:0}}}}}]);